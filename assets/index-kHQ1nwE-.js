(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function s(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(a){if(a.ep)return;a.ep=!0;const d=s(a);fetch(a.href,d)}})();function ql(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function Kh(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var r=u.default;if(typeof r=="function"){var s=function o(){var a=!1;try{a=this instanceof o}catch{}return a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(u).forEach(function(o){var a=Object.getOwnPropertyDescriptor(u,o);Object.defineProperty(s,o,a.get?a:{enumerable:!0,get:function(){return u[o]}})}),s}var xl={exports:{}},es={},El={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kc;function Gh(){if(Kc)return re;Kc=1;var u=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function b(S){return S===null||typeof S!="object"?null:(S=x&&S[x]||S["@@iterator"],typeof S=="function"?S:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,z={};function A(S,O,te){this.props=S,this.context=O,this.refs=z,this.updater=te||T}A.prototype.isReactComponent={},A.prototype.setState=function(S,O){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,O,"setState")},A.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function X(){}X.prototype=A.prototype;function J(S,O,te){this.props=S,this.context=O,this.refs=z,this.updater=te||T}var D=J.prototype=new X;D.constructor=J,$(D,A.prototype),D.isPureReactComponent=!0;var G=Array.isArray,le=Object.prototype.hasOwnProperty,Z={current:null},ne={key:!0,ref:!0,__self:!0,__source:!0};function Me(S,O,te){var se,ae={},ue=null,pe=null;if(O!=null)for(se in O.ref!==void 0&&(pe=O.ref),O.key!==void 0&&(ue=""+O.key),O)le.call(O,se)&&!ne.hasOwnProperty(se)&&(ae[se]=O[se]);var fe=arguments.length-2;if(fe===1)ae.children=te;else if(1<fe){for(var we=Array(fe),tt=0;tt<fe;tt++)we[tt]=arguments[tt+2];ae.children=we}if(S&&S.defaultProps)for(se in fe=S.defaultProps,fe)ae[se]===void 0&&(ae[se]=fe[se]);return{$$typeof:u,type:S,key:ue,ref:pe,props:ae,_owner:Z.current}}function Ze(S,O){return{$$typeof:u,type:S.type,key:O,ref:S.ref,props:S.props,_owner:S._owner}}function pt(S){return typeof S=="object"&&S!==null&&S.$$typeof===u}function Ot(S){var O={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(te){return O[te]})}var ot=/\/+/g;function Ce(S,O){return typeof S=="object"&&S!==null&&S.key!=null?Ot(""+S.key):O.toString(36)}function et(S,O,te,se,ae){var ue=typeof S;(ue==="undefined"||ue==="boolean")&&(S=null);var pe=!1;if(S===null)pe=!0;else switch(ue){case"string":case"number":pe=!0;break;case"object":switch(S.$$typeof){case u:case r:pe=!0}}if(pe)return pe=S,ae=ae(pe),S=se===""?"."+Ce(pe,0):se,G(ae)?(te="",S!=null&&(te=S.replace(ot,"$&/")+"/"),et(ae,O,te,"",function(tt){return tt})):ae!=null&&(pt(ae)&&(ae=Ze(ae,te+(!ae.key||pe&&pe.key===ae.key?"":(""+ae.key).replace(ot,"$&/")+"/")+S)),O.push(ae)),1;if(pe=0,se=se===""?".":se+":",G(S))for(var fe=0;fe<S.length;fe++){ue=S[fe];var we=se+Ce(ue,fe);pe+=et(ue,O,te,we,ae)}else if(we=b(S),typeof we=="function")for(S=we.call(S),fe=0;!(ue=S.next()).done;)ue=ue.value,we=se+Ce(ue,fe++),pe+=et(ue,O,te,we,ae);else if(ue==="object")throw O=String(S),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return pe}function lt(S,O,te){if(S==null)return S;var se=[],ae=0;return et(S,se,"","",function(ue){return O.call(te,ue,ae++)}),se}function $e(S){if(S._status===-1){var O=S._result;O=O(),O.then(function(te){(S._status===0||S._status===-1)&&(S._status=1,S._result=te)},function(te){(S._status===0||S._status===-1)&&(S._status=2,S._result=te)}),S._status===-1&&(S._status=0,S._result=O)}if(S._status===1)return S._result.default;throw S._result}var ee={current:null},R={transition:null},V={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:R,ReactCurrentOwner:Z};function M(){throw Error("act(...) is not supported in production builds of React.")}return re.Children={map:lt,forEach:function(S,O,te){lt(S,function(){O.apply(this,arguments)},te)},count:function(S){var O=0;return lt(S,function(){O++}),O},toArray:function(S){return lt(S,function(O){return O})||[]},only:function(S){if(!pt(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},re.Component=A,re.Fragment=s,re.Profiler=a,re.PureComponent=J,re.StrictMode=o,re.Suspense=g,re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,re.act=M,re.cloneElement=function(S,O,te){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var se=$({},S.props),ae=S.key,ue=S.ref,pe=S._owner;if(O!=null){if(O.ref!==void 0&&(ue=O.ref,pe=Z.current),O.key!==void 0&&(ae=""+O.key),S.type&&S.type.defaultProps)var fe=S.type.defaultProps;for(we in O)le.call(O,we)&&!ne.hasOwnProperty(we)&&(se[we]=O[we]===void 0&&fe!==void 0?fe[we]:O[we])}var we=arguments.length-2;if(we===1)se.children=te;else if(1<we){fe=Array(we);for(var tt=0;tt<we;tt++)fe[tt]=arguments[tt+2];se.children=fe}return{$$typeof:u,type:S.type,key:ae,ref:ue,props:se,_owner:pe}},re.createContext=function(S){return S={$$typeof:f,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:d,_context:S},S.Consumer=S},re.createElement=Me,re.createFactory=function(S){var O=Me.bind(null,S);return O.type=S,O},re.createRef=function(){return{current:null}},re.forwardRef=function(S){return{$$typeof:p,render:S}},re.isValidElement=pt,re.lazy=function(S){return{$$typeof:y,_payload:{_status:-1,_result:S},_init:$e}},re.memo=function(S,O){return{$$typeof:v,type:S,compare:O===void 0?null:O}},re.startTransition=function(S){var O=R.transition;R.transition={};try{S()}finally{R.transition=O}},re.unstable_act=M,re.useCallback=function(S,O){return ee.current.useCallback(S,O)},re.useContext=function(S){return ee.current.useContext(S)},re.useDebugValue=function(){},re.useDeferredValue=function(S){return ee.current.useDeferredValue(S)},re.useEffect=function(S,O){return ee.current.useEffect(S,O)},re.useId=function(){return ee.current.useId()},re.useImperativeHandle=function(S,O,te){return ee.current.useImperativeHandle(S,O,te)},re.useInsertionEffect=function(S,O){return ee.current.useInsertionEffect(S,O)},re.useLayoutEffect=function(S,O){return ee.current.useLayoutEffect(S,O)},re.useMemo=function(S,O){return ee.current.useMemo(S,O)},re.useReducer=function(S,O,te){return ee.current.useReducer(S,O,te)},re.useRef=function(S){return ee.current.useRef(S)},re.useState=function(S){return ee.current.useState(S)},re.useSyncExternalStore=function(S,O,te){return ee.current.useSyncExternalStore(S,O,te)},re.useTransition=function(){return ee.current.useTransition()},re.version="18.3.1",re}var Gc;function Kl(){return Gc||(Gc=1,El.exports=Gh()),El.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qc;function Qh(){if(Qc)return es;Qc=1;var u=Kl(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,v){var y,x={},b=null,T=null;v!==void 0&&(b=""+v),g.key!==void 0&&(b=""+g.key),g.ref!==void 0&&(T=g.ref);for(y in g)o.call(g,y)&&!d.hasOwnProperty(y)&&(x[y]=g[y]);if(p&&p.defaultProps)for(y in g=p.defaultProps,g)x[y]===void 0&&(x[y]=g[y]);return{$$typeof:r,type:p,key:b,ref:T,props:x,_owner:a.current}}return es.Fragment=s,es.jsx=f,es.jsxs=f,es}var Jc;function Jh(){return Jc||(Jc=1,xl.exports=Qh()),xl.exports}var k=Jh(),de=Kl();const Yh=ql(de);var _i={},jl={exports:{}},Xe={},Cl={exports:{}},bl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yc;function Xh(){return Yc||(Yc=1,(function(u){function r(R,V){var M=R.length;R.push(V);e:for(;0<M;){var S=M-1>>>1,O=R[S];if(0<a(O,V))R[S]=V,R[M]=O,M=S;else break e}}function s(R){return R.length===0?null:R[0]}function o(R){if(R.length===0)return null;var V=R[0],M=R.pop();if(M!==V){R[0]=M;e:for(var S=0,O=R.length,te=O>>>1;S<te;){var se=2*(S+1)-1,ae=R[se],ue=se+1,pe=R[ue];if(0>a(ae,M))ue<O&&0>a(pe,ae)?(R[S]=pe,R[ue]=M,S=ue):(R[S]=ae,R[se]=M,S=se);else if(ue<O&&0>a(pe,M))R[S]=pe,R[ue]=M,S=ue;else break e}}return V}function a(R,V){var M=R.sortIndex-V.sortIndex;return M!==0?M:R.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;u.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();u.unstable_now=function(){return f.now()-p}}var g=[],v=[],y=1,x=null,b=3,T=!1,$=!1,z=!1,A=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(R){for(var V=s(v);V!==null;){if(V.callback===null)o(v);else if(V.startTime<=R)o(v),V.sortIndex=V.expirationTime,r(g,V);else break;V=s(v)}}function G(R){if(z=!1,D(R),!$)if(s(g)!==null)$=!0,$e(le);else{var V=s(v);V!==null&&ee(G,V.startTime-R)}}function le(R,V){$=!1,z&&(z=!1,X(Me),Me=-1),T=!0;var M=b;try{for(D(V),x=s(g);x!==null&&(!(x.expirationTime>V)||R&&!Ot());){var S=x.callback;if(typeof S=="function"){x.callback=null,b=x.priorityLevel;var O=S(x.expirationTime<=V);V=u.unstable_now(),typeof O=="function"?x.callback=O:x===s(g)&&o(g),D(V)}else o(g);x=s(g)}if(x!==null)var te=!0;else{var se=s(v);se!==null&&ee(G,se.startTime-V),te=!1}return te}finally{x=null,b=M,T=!1}}var Z=!1,ne=null,Me=-1,Ze=5,pt=-1;function Ot(){return!(u.unstable_now()-pt<Ze)}function ot(){if(ne!==null){var R=u.unstable_now();pt=R;var V=!0;try{V=ne(!0,R)}finally{V?Ce():(Z=!1,ne=null)}}else Z=!1}var Ce;if(typeof J=="function")Ce=function(){J(ot)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,lt=et.port2;et.port1.onmessage=ot,Ce=function(){lt.postMessage(null)}}else Ce=function(){A(ot,0)};function $e(R){ne=R,Z||(Z=!0,Ce())}function ee(R,V){Me=A(function(){R(u.unstable_now())},V)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(R){R.callback=null},u.unstable_continueExecution=function(){$||T||($=!0,$e(le))},u.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ze=0<R?Math.floor(1e3/R):5},u.unstable_getCurrentPriorityLevel=function(){return b},u.unstable_getFirstCallbackNode=function(){return s(g)},u.unstable_next=function(R){switch(b){case 1:case 2:case 3:var V=3;break;default:V=b}var M=b;b=V;try{return R()}finally{b=M}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(R,V){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var M=b;b=R;try{return V()}finally{b=M}},u.unstable_scheduleCallback=function(R,V,M){var S=u.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?S+M:S):M=S,R){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=M+O,R={id:y++,callback:V,priorityLevel:R,startTime:M,expirationTime:O,sortIndex:-1},M>S?(R.sortIndex=M,r(v,R),s(g)===null&&R===s(v)&&(z?(X(Me),Me=-1):z=!0,ee(G,M-S))):(R.sortIndex=O,r(g,R),$||T||($=!0,$e(le))),R},u.unstable_shouldYield=Ot,u.unstable_wrapCallback=function(R){var V=b;return function(){var M=b;b=V;try{return R.apply(this,arguments)}finally{b=M}}}})(bl)),bl}var Xc;function Zh(){return Xc||(Xc=1,Cl.exports=Xh()),Cl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zc;function ep(){if(Zc)return Xe;Zc=1;var u=Kl(),r=Zh();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function d(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function b(e){return g.call(x,e)?!0:g.call(y,e)?!1:v.test(e)?x[e]=!0:(y[e]=!0,!1)}function T(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $(e,t,n,i){if(t===null||typeof t>"u"||T(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function z(e,t,n,i,l,c,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=h}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){A[e]=new z(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];A[t]=new z(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){A[e]=new z(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){A[e]=new z(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){A[e]=new z(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){A[e]=new z(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){A[e]=new z(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){A[e]=new z(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){A[e]=new z(e,5,!1,e.toLowerCase(),null,!1,!1)});var X=/[\-:]([a-z])/g;function J(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(X,J);A[t]=new z(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(X,J);A[t]=new z(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(X,J);A[t]=new z(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){A[e]=new z(e,1,!1,e.toLowerCase(),null,!1,!1)}),A.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){A[e]=new z(e,1,!1,e.toLowerCase(),null,!0,!0)});function D(e,t,n,i){var l=A.hasOwnProperty(t)?A[t]:null;(l!==null?l.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($(t,n,l,i)&&(n=null),i||l===null?b(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,i=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var G=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),Z=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),Me=Symbol.for("react.strict_mode"),Ze=Symbol.for("react.profiler"),pt=Symbol.for("react.provider"),Ot=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),Ce=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),lt=Symbol.for("react.memo"),$e=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),R=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=R&&e[R]||e["@@iterator"],typeof e=="function"?e:null)}var M=Object.assign,S;function O(e){if(S===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var te=!1;function se(e,t){if(!e||te)return"";te=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(C){var i=C}Reflect.construct(e,[],t)}else{try{t.call()}catch(C){i=C}e.call(t.prototype)}else{try{throw Error()}catch(C){i=C}e()}}catch(C){if(C&&i&&typeof C.stack=="string"){for(var l=C.stack.split(`
`),c=i.stack.split(`
`),h=l.length-1,m=c.length-1;1<=h&&0<=m&&l[h]!==c[m];)m--;for(;1<=h&&0<=m;h--,m--)if(l[h]!==c[m]){if(h!==1||m!==1)do if(h--,m--,0>m||l[h]!==c[m]){var w=`
`+l[h].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=h&&0<=m);break}}}finally{te=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?O(e):""}function ae(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=se(e.type,!1),e;case 11:return e=se(e.type.render,!1),e;case 1:return e=se(e.type,!0),e;default:return""}}function ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ne:return"Fragment";case Z:return"Portal";case Ze:return"Profiler";case Me:return"StrictMode";case Ce:return"Suspense";case et:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ot:return(e.displayName||"Context")+".Consumer";case pt:return(e._context.displayName||"Context")+".Provider";case ot:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lt:return t=e.displayName||null,t!==null?t:ue(e.type)||"Memo";case $e:t=e._payload,e=e._init;try{return ue(e(t))}catch{}}return null}function pe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(t);case 8:return t===Me?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function we(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tt(e){var t=we(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(h){i=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(h){i=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cs(e){e._valueTracker||(e._valueTracker=tt(e))}function Zl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=we(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function ds(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ti(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ea(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=fe(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ta(e,t){t=t.checked,t!=null&&D(e,"checked",t,!1)}function Oi(e,t){ta(e,t);var n=fe(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ni(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ni(e,t.type,fe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function na(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ni(e,t,n){(t!=="number"||ds(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gr=Array.isArray;function On(e,t,n,i){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&i&&(e[n].defaultSelected=!0)}else{for(n=""+fe(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ri(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ra(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(s(92));if(gr(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fe(n)}}function sa(e,t){var n=fe(t.value),i=fe(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function ia(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oa(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Li(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oa(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fs,la=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fs=fs||document.createElement("div"),fs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jd=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(e){Jd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vr[t]=vr[e]})});function aa(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vr.hasOwnProperty(e)&&vr[e]?(""+t).trim():t+"px"}function ua(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,l=aa(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,l):e[n]=l}}var Yd=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ai(e,t){if(t){if(Yd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Ii(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $i=null;function Ui(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Di=null,Nn=null,Rn=null;function ca(e){if(e=Mr(e)){if(typeof Di!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Is(t),Di(e.stateNode,e.type,t))}}function da(e){Nn?Rn?Rn.push(e):Rn=[e]:Nn=e}function fa(){if(Nn){var e=Nn,t=Rn;if(Rn=Nn=null,ca(e),t)for(e=0;e<t.length;e++)ca(t[e])}}function ha(e,t){return e(t)}function pa(){}var Mi=!1;function ga(e,t,n){if(Mi)return e(t,n);Mi=!0;try{return ha(e,t,n)}finally{Mi=!1,(Nn!==null||Rn!==null)&&(pa(),fa())}}function yr(e,t){var n=e.stateNode;if(n===null)return null;var i=Is(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var zi=!1;if(p)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){zi=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{zi=!1}function Xd(e,t,n,i,l,c,h,m,w){var C=Array.prototype.slice.call(arguments,3);try{t.apply(n,C)}catch(N){this.onError(N)}}var _r=!1,hs=null,ps=!1,Fi=null,Zd={onError:function(e){_r=!0,hs=e}};function ef(e,t,n,i,l,c,h,m,w){_r=!1,hs=null,Xd.apply(Zd,arguments)}function tf(e,t,n,i,l,c,h,m,w){if(ef.apply(this,arguments),_r){if(_r){var C=hs;_r=!1,hs=null}else throw Error(s(198));ps||(ps=!0,Fi=C)}}function fn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ma(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function va(e){if(fn(e)!==e)throw Error(s(188))}function nf(e){var t=e.alternate;if(!t){if(t=fn(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var l=n.return;if(l===null)break;var c=l.alternate;if(c===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===n)return va(l),e;if(c===i)return va(l),t;c=c.sibling}throw Error(s(188))}if(n.return!==i.return)n=l,i=c;else{for(var h=!1,m=l.child;m;){if(m===n){h=!0,n=l,i=c;break}if(m===i){h=!0,i=l,n=c;break}m=m.sibling}if(!h){for(m=c.child;m;){if(m===n){h=!0,n=c,i=l;break}if(m===i){h=!0,i=c,n=l;break}m=m.sibling}if(!h)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function ya(e){return e=nf(e),e!==null?wa(e):null}function wa(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wa(e);if(t!==null)return t;e=e.sibling}return null}var _a=r.unstable_scheduleCallback,ka=r.unstable_cancelCallback,rf=r.unstable_shouldYield,sf=r.unstable_requestPaint,Ee=r.unstable_now,of=r.unstable_getCurrentPriorityLevel,Bi=r.unstable_ImmediatePriority,Sa=r.unstable_UserBlockingPriority,gs=r.unstable_NormalPriority,lf=r.unstable_LowPriority,xa=r.unstable_IdlePriority,ms=null,Et=null;function af(e){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(ms,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:df,uf=Math.log,cf=Math.LN2;function df(e){return e>>>=0,e===0?32:31-(uf(e)/cf|0)|0}var vs=64,ys=4194304;function kr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ws(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,l=e.suspendedLanes,c=e.pingedLanes,h=n&268435455;if(h!==0){var m=h&~l;m!==0?i=kr(m):(c&=h,c!==0&&(i=kr(c)))}else h=n&~l,h!==0?i=kr(h):c!==0&&(i=kr(c));if(i===0)return 0;if(t!==0&&t!==i&&(t&l)===0&&(l=i&-i,c=t&-t,l>=c||l===16&&(c&4194240)!==0))return t;if((i&4)!==0&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-gt(t),l=1<<n,i|=e[n],t&=~l;return i}function ff(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hf(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,c=e.pendingLanes;0<c;){var h=31-gt(c),m=1<<h,w=l[h];w===-1?((m&n)===0||(m&i)!==0)&&(l[h]=ff(m,t)):w<=t&&(e.expiredLanes|=m),c&=~m}}function Wi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ea(){var e=vs;return vs<<=1,(vs&4194240)===0&&(vs=64),e}function Hi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Sr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=n}function pf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-gt(n),c=1<<l;t[l]=0,i[l]=-1,e[l]=-1,n&=~c}}function Vi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-gt(n),l=1<<i;l&t|e[i]&t&&(e[i]|=t),n&=~l}}var he=0;function ja(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ca,qi,ba,Pa,Ta,Ki=!1,_s=[],Bt=null,Wt=null,Ht=null,xr=new Map,Er=new Map,Vt=[],gf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oa(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":xr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(t.pointerId)}}function jr(e,t,n,i,l,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:c,targetContainers:[l]},t!==null&&(t=Mr(t),t!==null&&qi(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function mf(e,t,n,i,l){switch(t){case"focusin":return Bt=jr(Bt,e,t,n,i,l),!0;case"dragenter":return Wt=jr(Wt,e,t,n,i,l),!0;case"mouseover":return Ht=jr(Ht,e,t,n,i,l),!0;case"pointerover":var c=l.pointerId;return xr.set(c,jr(xr.get(c)||null,e,t,n,i,l)),!0;case"gotpointercapture":return c=l.pointerId,Er.set(c,jr(Er.get(c)||null,e,t,n,i,l)),!0}return!1}function Na(e){var t=hn(e.target);if(t!==null){var n=fn(t);if(n!==null){if(t=n.tag,t===13){if(t=ma(n),t!==null){e.blockedOn=t,Ta(e.priority,function(){ba(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ks(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);$i=i,n.target.dispatchEvent(i),$i=null}else return t=Mr(n),t!==null&&qi(t),e.blockedOn=n,!1;t.shift()}return!0}function Ra(e,t,n){ks(e)&&n.delete(t)}function vf(){Ki=!1,Bt!==null&&ks(Bt)&&(Bt=null),Wt!==null&&ks(Wt)&&(Wt=null),Ht!==null&&ks(Ht)&&(Ht=null),xr.forEach(Ra),Er.forEach(Ra)}function Cr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ki||(Ki=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vf)))}function br(e){function t(l){return Cr(l,e)}if(0<_s.length){Cr(_s[0],e);for(var n=1;n<_s.length;n++){var i=_s[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Bt!==null&&Cr(Bt,e),Wt!==null&&Cr(Wt,e),Ht!==null&&Cr(Ht,e),xr.forEach(t),Er.forEach(t),n=0;n<Vt.length;n++)i=Vt[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Vt.length&&(n=Vt[0],n.blockedOn===null);)Na(n),n.blockedOn===null&&Vt.shift()}var Ln=G.ReactCurrentBatchConfig,Ss=!0;function yf(e,t,n,i){var l=he,c=Ln.transition;Ln.transition=null;try{he=1,Gi(e,t,n,i)}finally{he=l,Ln.transition=c}}function wf(e,t,n,i){var l=he,c=Ln.transition;Ln.transition=null;try{he=4,Gi(e,t,n,i)}finally{he=l,Ln.transition=c}}function Gi(e,t,n,i){if(Ss){var l=Qi(e,t,n,i);if(l===null)ho(e,t,i,xs,n),Oa(e,i);else if(mf(l,e,t,n,i))i.stopPropagation();else if(Oa(e,i),t&4&&-1<gf.indexOf(e)){for(;l!==null;){var c=Mr(l);if(c!==null&&Ca(c),c=Qi(e,t,n,i),c===null&&ho(e,t,i,xs,n),c===l)break;l=c}l!==null&&i.stopPropagation()}else ho(e,t,i,null,n)}}var xs=null;function Qi(e,t,n,i){if(xs=null,e=Ui(i),e=hn(e),e!==null)if(t=fn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ma(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xs=e,null}function La(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(of()){case Bi:return 1;case Sa:return 4;case gs:case lf:return 16;case xa:return 536870912;default:return 16}default:return 16}}var qt=null,Ji=null,Es=null;function Aa(){if(Es)return Es;var e,t=Ji,n=t.length,i,l="value"in qt?qt.value:qt.textContent,c=l.length;for(e=0;e<n&&t[e]===l[e];e++);var h=n-e;for(i=1;i<=h&&t[n-i]===l[c-i];i++);return Es=l.slice(e,1<i?1-i:void 0)}function js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cs(){return!0}function Ia(){return!1}function nt(e){function t(n,i,l,c,h){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(c):c[m]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Cs:Ia,this.isPropagationStopped=Ia,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),t}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yi=nt(An),Pr=M({},An,{view:0,detail:0}),_f=nt(Pr),Xi,Zi,Tr,bs=M({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:to,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tr&&(Tr&&e.type==="mousemove"?(Xi=e.screenX-Tr.screenX,Zi=e.screenY-Tr.screenY):Zi=Xi=0,Tr=e),Xi)},movementY:function(e){return"movementY"in e?e.movementY:Zi}}),$a=nt(bs),kf=M({},bs,{dataTransfer:0}),Sf=nt(kf),xf=M({},Pr,{relatedTarget:0}),eo=nt(xf),Ef=M({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),jf=nt(Ef),Cf=M({},An,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bf=nt(Cf),Pf=M({},An,{data:0}),Ua=nt(Pf),Tf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Of={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nf[e])?!!t[e]:!1}function to(){return Rf}var Lf=M({},Pr,{key:function(e){if(e.key){var t=Tf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Of[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:to,charCode:function(e){return e.type==="keypress"?js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Af=nt(Lf),If=M({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Da=nt(If),$f=M({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:to}),Uf=nt($f),Df=M({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mf=nt(Df),zf=M({},bs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ff=nt(zf),Bf=[9,13,27,32],no=p&&"CompositionEvent"in window,Or=null;p&&"documentMode"in document&&(Or=document.documentMode);var Wf=p&&"TextEvent"in window&&!Or,Ma=p&&(!no||Or&&8<Or&&11>=Or),za=" ",Fa=!1;function Ba(e,t){switch(e){case"keyup":return Bf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var In=!1;function Hf(e,t){switch(e){case"compositionend":return Wa(t);case"keypress":return t.which!==32?null:(Fa=!0,za);case"textInput":return e=t.data,e===za&&Fa?null:e;default:return null}}function Vf(e,t){if(In)return e==="compositionend"||!no&&Ba(e,t)?(e=Aa(),Es=Ji=qt=null,In=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ma&&t.locale!=="ko"?null:t.data;default:return null}}var qf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qf[e.type]:t==="textarea"}function Va(e,t,n,i){da(i),t=Rs(t,"onChange"),0<t.length&&(n=new Yi("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Nr=null,Rr=null;function Kf(e){uu(e,0)}function Ps(e){var t=zn(e);if(Zl(t))return e}function Gf(e,t){if(e==="change")return t}var qa=!1;if(p){var ro;if(p){var so="oninput"in document;if(!so){var Ka=document.createElement("div");Ka.setAttribute("oninput","return;"),so=typeof Ka.oninput=="function"}ro=so}else ro=!1;qa=ro&&(!document.documentMode||9<document.documentMode)}function Ga(){Nr&&(Nr.detachEvent("onpropertychange",Qa),Rr=Nr=null)}function Qa(e){if(e.propertyName==="value"&&Ps(Rr)){var t=[];Va(t,Rr,e,Ui(e)),ga(Kf,t)}}function Qf(e,t,n){e==="focusin"?(Ga(),Nr=t,Rr=n,Nr.attachEvent("onpropertychange",Qa)):e==="focusout"&&Ga()}function Jf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ps(Rr)}function Yf(e,t){if(e==="click")return Ps(t)}function Xf(e,t){if(e==="input"||e==="change")return Ps(t)}function Zf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mt=typeof Object.is=="function"?Object.is:Zf;function Lr(e,t){if(mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!g.call(t,l)||!mt(e[l],t[l]))return!1}return!0}function Ja(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ya(e,t){var n=Ja(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ja(n)}}function Xa(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xa(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Za(){for(var e=window,t=ds();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ds(e.document)}return t}function io(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eh(e){var t=Za(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Xa(n.ownerDocument.documentElement,n)){if(i!==null&&io(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,c=Math.min(i.start,l);i=i.end===void 0?c:Math.min(i.end,l),!e.extend&&c>i&&(l=i,i=c,c=l),l=Ya(n,c);var h=Ya(n,i);l&&h&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),c>i?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var th=p&&"documentMode"in document&&11>=document.documentMode,$n=null,oo=null,Ar=null,lo=!1;function eu(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lo||$n==null||$n!==ds(i)||(i=$n,"selectionStart"in i&&io(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ar&&Lr(Ar,i)||(Ar=i,i=Rs(oo,"onSelect"),0<i.length&&(t=new Yi("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=$n)))}function Ts(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Un={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionend:Ts("Transition","TransitionEnd")},ao={},tu={};p&&(tu=document.createElement("div").style,"AnimationEvent"in window||(delete Un.animationend.animation,delete Un.animationiteration.animation,delete Un.animationstart.animation),"TransitionEvent"in window||delete Un.transitionend.transition);function Os(e){if(ao[e])return ao[e];if(!Un[e])return e;var t=Un[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tu)return ao[e]=t[n];return e}var nu=Os("animationend"),ru=Os("animationiteration"),su=Os("animationstart"),iu=Os("transitionend"),ou=new Map,lu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kt(e,t){ou.set(e,t),d(t,[e])}for(var uo=0;uo<lu.length;uo++){var co=lu[uo],nh=co.toLowerCase(),rh=co[0].toUpperCase()+co.slice(1);Kt(nh,"on"+rh)}Kt(nu,"onAnimationEnd"),Kt(ru,"onAnimationIteration"),Kt(su,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(iu,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function au(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,tf(i,t,void 0,e),e.currentTarget=null}function uu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],l=i.event;i=i.listeners;e:{var c=void 0;if(t)for(var h=i.length-1;0<=h;h--){var m=i[h],w=m.instance,C=m.currentTarget;if(m=m.listener,w!==c&&l.isPropagationStopped())break e;au(l,m,C),c=w}else for(h=0;h<i.length;h++){if(m=i[h],w=m.instance,C=m.currentTarget,m=m.listener,w!==c&&l.isPropagationStopped())break e;au(l,m,C),c=w}}}if(ps)throw e=Fi,ps=!1,Fi=null,e}function ve(e,t){var n=t[wo];n===void 0&&(n=t[wo]=new Set);var i=e+"__bubble";n.has(i)||(cu(t,e,2,!1),n.add(i))}function fo(e,t,n){var i=0;t&&(i|=4),cu(n,e,i,t)}var Ns="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[Ns]){e[Ns]=!0,o.forEach(function(n){n!=="selectionchange"&&(sh.has(n)||fo(n,!1,e),fo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ns]||(t[Ns]=!0,fo("selectionchange",!1,t))}}function cu(e,t,n,i){switch(La(t)){case 1:var l=yf;break;case 4:l=wf;break;default:l=Gi}n=l.bind(null,t,n,e),l=void 0,!zi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ho(e,t,n,i,l){var c=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var h=i.tag;if(h===3||h===4){var m=i.stateNode.containerInfo;if(m===l||m.nodeType===8&&m.parentNode===l)break;if(h===4)for(h=i.return;h!==null;){var w=h.tag;if((w===3||w===4)&&(w=h.stateNode.containerInfo,w===l||w.nodeType===8&&w.parentNode===l))return;h=h.return}for(;m!==null;){if(h=hn(m),h===null)return;if(w=h.tag,w===5||w===6){i=c=h;continue e}m=m.parentNode}}i=i.return}ga(function(){var C=c,N=Ui(n),L=[];e:{var P=ou.get(e);if(P!==void 0){var U=Yi,B=e;switch(e){case"keypress":if(js(n)===0)break e;case"keydown":case"keyup":U=Af;break;case"focusin":B="focus",U=eo;break;case"focusout":B="blur",U=eo;break;case"beforeblur":case"afterblur":U=eo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=$a;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Uf;break;case nu:case ru:case su:U=jf;break;case iu:U=Mf;break;case"scroll":U=_f;break;case"wheel":U=Ff;break;case"copy":case"cut":case"paste":U=bf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Da}var W=(t&4)!==0,je=!W&&e==="scroll",E=W?P!==null?P+"Capture":null:P;W=[];for(var _=C,j;_!==null;){j=_;var I=j.stateNode;if(j.tag===5&&I!==null&&(j=I,E!==null&&(I=yr(_,E),I!=null&&W.push(Ur(_,I,j)))),je)break;_=_.return}0<W.length&&(P=new U(P,B,null,n,N),L.push({event:P,listeners:W}))}}if((t&7)===0){e:{if(P=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",P&&n!==$i&&(B=n.relatedTarget||n.fromElement)&&(hn(B)||B[Nt]))break e;if((U||P)&&(P=N.window===N?N:(P=N.ownerDocument)?P.defaultView||P.parentWindow:window,U?(B=n.relatedTarget||n.toElement,U=C,B=B?hn(B):null,B!==null&&(je=fn(B),B!==je||B.tag!==5&&B.tag!==6)&&(B=null)):(U=null,B=C),U!==B)){if(W=$a,I="onMouseLeave",E="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(W=Da,I="onPointerLeave",E="onPointerEnter",_="pointer"),je=U==null?P:zn(U),j=B==null?P:zn(B),P=new W(I,_+"leave",U,n,N),P.target=je,P.relatedTarget=j,I=null,hn(N)===C&&(W=new W(E,_+"enter",B,n,N),W.target=j,W.relatedTarget=je,I=W),je=I,U&&B)t:{for(W=U,E=B,_=0,j=W;j;j=Dn(j))_++;for(j=0,I=E;I;I=Dn(I))j++;for(;0<_-j;)W=Dn(W),_--;for(;0<j-_;)E=Dn(E),j--;for(;_--;){if(W===E||E!==null&&W===E.alternate)break t;W=Dn(W),E=Dn(E)}W=null}else W=null;U!==null&&du(L,P,U,W,!1),B!==null&&je!==null&&du(L,je,B,W,!0)}}e:{if(P=C?zn(C):window,U=P.nodeName&&P.nodeName.toLowerCase(),U==="select"||U==="input"&&P.type==="file")var H=Gf;else if(Ha(P))if(qa)H=Xf;else{H=Jf;var q=Qf}else(U=P.nodeName)&&U.toLowerCase()==="input"&&(P.type==="checkbox"||P.type==="radio")&&(H=Yf);if(H&&(H=H(e,C))){Va(L,H,n,N);break e}q&&q(e,P,C),e==="focusout"&&(q=P._wrapperState)&&q.controlled&&P.type==="number"&&Ni(P,"number",P.value)}switch(q=C?zn(C):window,e){case"focusin":(Ha(q)||q.contentEditable==="true")&&($n=q,oo=C,Ar=null);break;case"focusout":Ar=oo=$n=null;break;case"mousedown":lo=!0;break;case"contextmenu":case"mouseup":case"dragend":lo=!1,eu(L,n,N);break;case"selectionchange":if(th)break;case"keydown":case"keyup":eu(L,n,N)}var K;if(no)e:{switch(e){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else In?Ba(e,n)&&(Q="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Q="onCompositionStart");Q&&(Ma&&n.locale!=="ko"&&(In||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&In&&(K=Aa()):(qt=N,Ji="value"in qt?qt.value:qt.textContent,In=!0)),q=Rs(C,Q),0<q.length&&(Q=new Ua(Q,e,null,n,N),L.push({event:Q,listeners:q}),K?Q.data=K:(K=Wa(n),K!==null&&(Q.data=K)))),(K=Wf?Hf(e,n):Vf(e,n))&&(C=Rs(C,"onBeforeInput"),0<C.length&&(N=new Ua("onBeforeInput","beforeinput",null,n,N),L.push({event:N,listeners:C}),N.data=K))}uu(L,t)})}function Ur(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rs(e,t){for(var n=t+"Capture",i=[];e!==null;){var l=e,c=l.stateNode;l.tag===5&&c!==null&&(l=c,c=yr(e,n),c!=null&&i.unshift(Ur(e,c,l)),c=yr(e,t),c!=null&&i.push(Ur(e,c,l))),e=e.return}return i}function Dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function du(e,t,n,i,l){for(var c=t._reactName,h=[];n!==null&&n!==i;){var m=n,w=m.alternate,C=m.stateNode;if(w!==null&&w===i)break;m.tag===5&&C!==null&&(m=C,l?(w=yr(n,c),w!=null&&h.unshift(Ur(n,w,m))):l||(w=yr(n,c),w!=null&&h.push(Ur(n,w,m)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var ih=/\r\n?/g,oh=/\u0000|\uFFFD/g;function fu(e){return(typeof e=="string"?e:""+e).replace(ih,`
`).replace(oh,"")}function Ls(e,t,n){if(t=fu(t),fu(e)!==t&&n)throw Error(s(425))}function As(){}var po=null,go=null;function mo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vo=typeof setTimeout=="function"?setTimeout:void 0,lh=typeof clearTimeout=="function"?clearTimeout:void 0,hu=typeof Promise=="function"?Promise:void 0,ah=typeof queueMicrotask=="function"?queueMicrotask:typeof hu<"u"?function(e){return hu.resolve(null).then(e).catch(uh)}:vo;function uh(e){setTimeout(function(){throw e})}function yo(e,t){var n=t,i=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(i===0){e.removeChild(l),br(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=l}while(n);br(t)}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mn=Math.random().toString(36).slice(2),jt="__reactFiber$"+Mn,Dr="__reactProps$"+Mn,Nt="__reactContainer$"+Mn,wo="__reactEvents$"+Mn,ch="__reactListeners$"+Mn,dh="__reactHandles$"+Mn;function hn(e){var t=e[jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nt]||n[jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pu(e);e!==null;){if(n=e[jt])return n;e=pu(e)}return t}e=n,n=e.parentNode}return null}function Mr(e){return e=e[jt]||e[Nt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Is(e){return e[Dr]||null}var _o=[],Fn=-1;function Qt(e){return{current:e}}function ye(e){0>Fn||(e.current=_o[Fn],_o[Fn]=null,Fn--)}function ge(e,t){Fn++,_o[Fn]=e.current,e.current=t}var Jt={},ze=Qt(Jt),Ke=Qt(!1),pn=Jt;function Bn(e,t){var n=e.type.contextTypes;if(!n)return Jt;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var l={},c;for(c in n)l[c]=t[c];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ge(e){return e=e.childContextTypes,e!=null}function $s(){ye(Ke),ye(ze)}function gu(e,t,n){if(ze.current!==Jt)throw Error(s(168));ge(ze,t),ge(Ke,n)}function mu(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var l in i)if(!(l in t))throw Error(s(108,pe(e)||"Unknown",l));return M({},n,i)}function Us(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jt,pn=ze.current,ge(ze,e),ge(Ke,Ke.current),!0}function vu(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(e=mu(e,t,pn),i.__reactInternalMemoizedMergedChildContext=e,ye(Ke),ye(ze),ge(ze,e)):ye(Ke),ge(Ke,n)}var Rt=null,Ds=!1,ko=!1;function yu(e){Rt===null?Rt=[e]:Rt.push(e)}function fh(e){Ds=!0,yu(e)}function Yt(){if(!ko&&Rt!==null){ko=!0;var e=0,t=he;try{var n=Rt;for(he=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Rt=null,Ds=!1}catch(l){throw Rt!==null&&(Rt=Rt.slice(e+1)),_a(Bi,Yt),l}finally{he=t,ko=!1}}return null}var Wn=[],Hn=0,Ms=null,zs=0,at=[],ut=0,gn=null,Lt=1,At="";function mn(e,t){Wn[Hn++]=zs,Wn[Hn++]=Ms,Ms=e,zs=t}function wu(e,t,n){at[ut++]=Lt,at[ut++]=At,at[ut++]=gn,gn=e;var i=Lt;e=At;var l=32-gt(i)-1;i&=~(1<<l),n+=1;var c=32-gt(t)+l;if(30<c){var h=l-l%5;c=(i&(1<<h)-1).toString(32),i>>=h,l-=h,Lt=1<<32-gt(t)+l|n<<l|i,At=c+e}else Lt=1<<c|n<<l|i,At=e}function So(e){e.return!==null&&(mn(e,1),wu(e,1,0))}function xo(e){for(;e===Ms;)Ms=Wn[--Hn],Wn[Hn]=null,zs=Wn[--Hn],Wn[Hn]=null;for(;e===gn;)gn=at[--ut],at[ut]=null,At=at[--ut],at[ut]=null,Lt=at[--ut],at[ut]=null}var rt=null,st=null,_e=!1,vt=null;function _u(e,t){var n=ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ku(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rt=e,st=Gt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rt=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gn!==null?{id:Lt,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rt=e,st=null,!0):!1;default:return!1}}function Eo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function jo(e){if(_e){var t=st;if(t){var n=t;if(!ku(e,t)){if(Eo(e))throw Error(s(418));t=Gt(n.nextSibling);var i=rt;t&&ku(e,t)?_u(i,n):(e.flags=e.flags&-4097|2,_e=!1,rt=e)}}else{if(Eo(e))throw Error(s(418));e.flags=e.flags&-4097|2,_e=!1,rt=e}}}function Su(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rt=e}function Fs(e){if(e!==rt)return!1;if(!_e)return Su(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mo(e.type,e.memoizedProps)),t&&(t=st)){if(Eo(e))throw xu(),Error(s(418));for(;t;)_u(e,t),t=Gt(t.nextSibling)}if(Su(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){st=Gt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}st=null}}else st=rt?Gt(e.stateNode.nextSibling):null;return!0}function xu(){for(var e=st;e;)e=Gt(e.nextSibling)}function Vn(){st=rt=null,_e=!1}function Co(e){vt===null?vt=[e]:vt.push(e)}var hh=G.ReactCurrentBatchConfig;function zr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var l=i,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(h){var m=l.refs;h===null?delete m[c]:m[c]=h},t._stringRef=c,t)}if(typeof e!="string")throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Bs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Eu(e){var t=e._init;return t(e._payload)}function ju(e){function t(E,_){if(e){var j=E.deletions;j===null?(E.deletions=[_],E.flags|=16):j.push(_)}}function n(E,_){if(!e)return null;for(;_!==null;)t(E,_),_=_.sibling;return null}function i(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function l(E,_){return E=on(E,_),E.index=0,E.sibling=null,E}function c(E,_,j){return E.index=j,e?(j=E.alternate,j!==null?(j=j.index,j<_?(E.flags|=2,_):j):(E.flags|=2,_)):(E.flags|=1048576,_)}function h(E){return e&&E.alternate===null&&(E.flags|=2),E}function m(E,_,j,I){return _===null||_.tag!==6?(_=vl(j,E.mode,I),_.return=E,_):(_=l(_,j),_.return=E,_)}function w(E,_,j,I){var H=j.type;return H===ne?N(E,_,j.props.children,I,j.key):_!==null&&(_.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===$e&&Eu(H)===_.type)?(I=l(_,j.props),I.ref=zr(E,_,j),I.return=E,I):(I=fi(j.type,j.key,j.props,null,E.mode,I),I.ref=zr(E,_,j),I.return=E,I)}function C(E,_,j,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==j.containerInfo||_.stateNode.implementation!==j.implementation?(_=yl(j,E.mode,I),_.return=E,_):(_=l(_,j.children||[]),_.return=E,_)}function N(E,_,j,I,H){return _===null||_.tag!==7?(_=En(j,E.mode,I,H),_.return=E,_):(_=l(_,j),_.return=E,_)}function L(E,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return _=vl(""+_,E.mode,j),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case le:return j=fi(_.type,_.key,_.props,null,E.mode,j),j.ref=zr(E,null,_),j.return=E,j;case Z:return _=yl(_,E.mode,j),_.return=E,_;case $e:var I=_._init;return L(E,I(_._payload),j)}if(gr(_)||V(_))return _=En(_,E.mode,j,null),_.return=E,_;Bs(E,_)}return null}function P(E,_,j,I){var H=_!==null?_.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return H!==null?null:m(E,_,""+j,I);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case le:return j.key===H?w(E,_,j,I):null;case Z:return j.key===H?C(E,_,j,I):null;case $e:return H=j._init,P(E,_,H(j._payload),I)}if(gr(j)||V(j))return H!==null?null:N(E,_,j,I,null);Bs(E,j)}return null}function U(E,_,j,I,H){if(typeof I=="string"&&I!==""||typeof I=="number")return E=E.get(j)||null,m(_,E,""+I,H);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case le:return E=E.get(I.key===null?j:I.key)||null,w(_,E,I,H);case Z:return E=E.get(I.key===null?j:I.key)||null,C(_,E,I,H);case $e:var q=I._init;return U(E,_,j,q(I._payload),H)}if(gr(I)||V(I))return E=E.get(j)||null,N(_,E,I,H,null);Bs(_,I)}return null}function B(E,_,j,I){for(var H=null,q=null,K=_,Q=_=0,Ae=null;K!==null&&Q<j.length;Q++){K.index>Q?(Ae=K,K=null):Ae=K.sibling;var ce=P(E,K,j[Q],I);if(ce===null){K===null&&(K=Ae);break}e&&K&&ce.alternate===null&&t(E,K),_=c(ce,_,Q),q===null?H=ce:q.sibling=ce,q=ce,K=Ae}if(Q===j.length)return n(E,K),_e&&mn(E,Q),H;if(K===null){for(;Q<j.length;Q++)K=L(E,j[Q],I),K!==null&&(_=c(K,_,Q),q===null?H=K:q.sibling=K,q=K);return _e&&mn(E,Q),H}for(K=i(E,K);Q<j.length;Q++)Ae=U(K,E,Q,j[Q],I),Ae!==null&&(e&&Ae.alternate!==null&&K.delete(Ae.key===null?Q:Ae.key),_=c(Ae,_,Q),q===null?H=Ae:q.sibling=Ae,q=Ae);return e&&K.forEach(function(ln){return t(E,ln)}),_e&&mn(E,Q),H}function W(E,_,j,I){var H=V(j);if(typeof H!="function")throw Error(s(150));if(j=H.call(j),j==null)throw Error(s(151));for(var q=H=null,K=_,Q=_=0,Ae=null,ce=j.next();K!==null&&!ce.done;Q++,ce=j.next()){K.index>Q?(Ae=K,K=null):Ae=K.sibling;var ln=P(E,K,ce.value,I);if(ln===null){K===null&&(K=Ae);break}e&&K&&ln.alternate===null&&t(E,K),_=c(ln,_,Q),q===null?H=ln:q.sibling=ln,q=ln,K=Ae}if(ce.done)return n(E,K),_e&&mn(E,Q),H;if(K===null){for(;!ce.done;Q++,ce=j.next())ce=L(E,ce.value,I),ce!==null&&(_=c(ce,_,Q),q===null?H=ce:q.sibling=ce,q=ce);return _e&&mn(E,Q),H}for(K=i(E,K);!ce.done;Q++,ce=j.next())ce=U(K,E,Q,ce.value,I),ce!==null&&(e&&ce.alternate!==null&&K.delete(ce.key===null?Q:ce.key),_=c(ce,_,Q),q===null?H=ce:q.sibling=ce,q=ce);return e&&K.forEach(function(qh){return t(E,qh)}),_e&&mn(E,Q),H}function je(E,_,j,I){if(typeof j=="object"&&j!==null&&j.type===ne&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case le:e:{for(var H=j.key,q=_;q!==null;){if(q.key===H){if(H=j.type,H===ne){if(q.tag===7){n(E,q.sibling),_=l(q,j.props.children),_.return=E,E=_;break e}}else if(q.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===$e&&Eu(H)===q.type){n(E,q.sibling),_=l(q,j.props),_.ref=zr(E,q,j),_.return=E,E=_;break e}n(E,q);break}else t(E,q);q=q.sibling}j.type===ne?(_=En(j.props.children,E.mode,I,j.key),_.return=E,E=_):(I=fi(j.type,j.key,j.props,null,E.mode,I),I.ref=zr(E,_,j),I.return=E,E=I)}return h(E);case Z:e:{for(q=j.key;_!==null;){if(_.key===q)if(_.tag===4&&_.stateNode.containerInfo===j.containerInfo&&_.stateNode.implementation===j.implementation){n(E,_.sibling),_=l(_,j.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else t(E,_);_=_.sibling}_=yl(j,E.mode,I),_.return=E,E=_}return h(E);case $e:return q=j._init,je(E,_,q(j._payload),I)}if(gr(j))return B(E,_,j,I);if(V(j))return W(E,_,j,I);Bs(E,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,_!==null&&_.tag===6?(n(E,_.sibling),_=l(_,j),_.return=E,E=_):(n(E,_),_=vl(j,E.mode,I),_.return=E,E=_),h(E)):n(E,_)}return je}var qn=ju(!0),Cu=ju(!1),Ws=Qt(null),Hs=null,Kn=null,bo=null;function Po(){bo=Kn=Hs=null}function To(e){var t=Ws.current;ye(Ws),e._currentValue=t}function Oo(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Gn(e,t){Hs=e,bo=Kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Qe=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(bo!==e)if(e={context:e,memoizedValue:t,next:null},Kn===null){if(Hs===null)throw Error(s(308));Kn=e,Hs.dependencies={lanes:0,firstContext:e}}else Kn=Kn.next=e;return t}var vn=null;function No(e){vn===null?vn=[e]:vn.push(e)}function bu(e,t,n,i){var l=t.interleaved;return l===null?(n.next=n,No(t)):(n.next=l.next,l.next=n),t.interleaved=n,It(e,i)}function It(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Xt=!1;function Ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zt(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(oe&2)!==0){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,It(e,n)}return l=i.interleaved,l===null?(t.next=t,No(i)):(t.next=l.next,l.next=t),i.interleaved=t,It(e,n)}function Vs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Vi(e,n)}}function Tu(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?l=c=h:c=c.next=h,n=n.next}while(n!==null);c===null?l=c=t:c=c.next=t}else l=c=t;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qs(e,t,n,i){var l=e.updateQueue;Xt=!1;var c=l.firstBaseUpdate,h=l.lastBaseUpdate,m=l.shared.pending;if(m!==null){l.shared.pending=null;var w=m,C=w.next;w.next=null,h===null?c=C:h.next=C,h=w;var N=e.alternate;N!==null&&(N=N.updateQueue,m=N.lastBaseUpdate,m!==h&&(m===null?N.firstBaseUpdate=C:m.next=C,N.lastBaseUpdate=w))}if(c!==null){var L=l.baseState;h=0,N=C=w=null,m=c;do{var P=m.lane,U=m.eventTime;if((i&P)===P){N!==null&&(N=N.next={eventTime:U,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var B=e,W=m;switch(P=t,U=n,W.tag){case 1:if(B=W.payload,typeof B=="function"){L=B.call(U,L,P);break e}L=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=W.payload,P=typeof B=="function"?B.call(U,L,P):B,P==null)break e;L=M({},L,P);break e;case 2:Xt=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,P=l.effects,P===null?l.effects=[m]:P.push(m))}else U={eventTime:U,lane:P,tag:m.tag,payload:m.payload,callback:m.callback,next:null},N===null?(C=N=U,w=L):N=N.next=U,h|=P;if(m=m.next,m===null){if(m=l.shared.pending,m===null)break;P=m,m=P.next,P.next=null,l.lastBaseUpdate=P,l.shared.pending=null}}while(!0);if(N===null&&(w=L),l.baseState=w,l.firstBaseUpdate=C,l.lastBaseUpdate=N,t=l.shared.interleaved,t!==null){l=t;do h|=l.lane,l=l.next;while(l!==t)}else c===null&&(l.shared.lanes=0);_n|=h,e.lanes=h,e.memoizedState=L}}function Ou(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],l=i.callback;if(l!==null){if(i.callback=null,i=n,typeof l!="function")throw Error(s(191,l));l.call(i)}}}var Fr={},Ct=Qt(Fr),Br=Qt(Fr),Wr=Qt(Fr);function yn(e){if(e===Fr)throw Error(s(174));return e}function Lo(e,t){switch(ge(Wr,t),ge(Br,e),ge(Ct,Fr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Li(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Li(t,e)}ye(Ct),ge(Ct,t)}function Qn(){ye(Ct),ye(Br),ye(Wr)}function Nu(e){yn(Wr.current);var t=yn(Ct.current),n=Li(t,e.type);t!==n&&(ge(Br,e),ge(Ct,n))}function Ao(e){Br.current===e&&(ye(Ct),ye(Br))}var ke=Qt(0);function Ks(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Io=[];function $o(){for(var e=0;e<Io.length;e++)Io[e]._workInProgressVersionPrimary=null;Io.length=0}var Gs=G.ReactCurrentDispatcher,Uo=G.ReactCurrentBatchConfig,wn=0,Se=null,Pe=null,Re=null,Qs=!1,Hr=!1,Vr=0,ph=0;function Fe(){throw Error(s(321))}function Do(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mt(e[n],t[n]))return!1;return!0}function Mo(e,t,n,i,l,c){if(wn=c,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gs.current=e===null||e.memoizedState===null?yh:wh,e=n(i,l),Hr){c=0;do{if(Hr=!1,Vr=0,25<=c)throw Error(s(301));c+=1,Re=Pe=null,t.updateQueue=null,Gs.current=_h,e=n(i,l)}while(Hr)}if(Gs.current=Xs,t=Pe!==null&&Pe.next!==null,wn=0,Re=Pe=Se=null,Qs=!1,t)throw Error(s(300));return e}function zo(){var e=Vr!==0;return Vr=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Se.memoizedState=Re=e:Re=Re.next=e,Re}function dt(){if(Pe===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Re===null?Se.memoizedState:Re.next;if(t!==null)Re=t,Pe=e;else{if(e===null)throw Error(s(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Re===null?Se.memoizedState=Re=e:Re=Re.next=e}return Re}function qr(e,t){return typeof t=="function"?t(e):t}function Fo(e){var t=dt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var i=Pe,l=i.baseQueue,c=n.pending;if(c!==null){if(l!==null){var h=l.next;l.next=c.next,c.next=h}i.baseQueue=l=c,n.pending=null}if(l!==null){c=l.next,i=i.baseState;var m=h=null,w=null,C=c;do{var N=C.lane;if((wn&N)===N)w!==null&&(w=w.next={lane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),i=C.hasEagerState?C.eagerState:e(i,C.action);else{var L={lane:N,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null};w===null?(m=w=L,h=i):w=w.next=L,Se.lanes|=N,_n|=N}C=C.next}while(C!==null&&C!==c);w===null?h=i:w.next=m,mt(i,t.memoizedState)||(Qe=!0),t.memoizedState=i,t.baseState=h,t.baseQueue=w,n.lastRenderedState=i}if(e=n.interleaved,e!==null){l=e;do c=l.lane,Se.lanes|=c,_n|=c,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bo(e){var t=dt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,l=n.pending,c=t.memoizedState;if(l!==null){n.pending=null;var h=l=l.next;do c=e(c,h.action),h=h.next;while(h!==l);mt(c,t.memoizedState)||(Qe=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,i]}function Ru(){}function Lu(e,t){var n=Se,i=dt(),l=t(),c=!mt(i.memoizedState,l);if(c&&(i.memoizedState=l,Qe=!0),i=i.queue,Wo($u.bind(null,n,i,e),[e]),i.getSnapshot!==t||c||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,Kr(9,Iu.bind(null,n,i,l,t),void 0,null),Le===null)throw Error(s(349));(wn&30)!==0||Au(n,t,l)}return l}function Au(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Iu(e,t,n,i){t.value=n,t.getSnapshot=i,Uu(t)&&Du(e)}function $u(e,t,n){return n(function(){Uu(t)&&Du(e)})}function Uu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mt(e,n)}catch{return!0}}function Du(e){var t=It(e,1);t!==null&&kt(t,e,1,-1)}function Mu(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:e},t.queue=e,e=e.dispatch=vh.bind(null,Se,e),[t.memoizedState,e]}function Kr(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function zu(){return dt().memoizedState}function Js(e,t,n,i){var l=bt();Se.flags|=e,l.memoizedState=Kr(1|t,n,void 0,i===void 0?null:i)}function Ys(e,t,n,i){var l=dt();i=i===void 0?null:i;var c=void 0;if(Pe!==null){var h=Pe.memoizedState;if(c=h.destroy,i!==null&&Do(i,h.deps)){l.memoizedState=Kr(t,n,c,i);return}}Se.flags|=e,l.memoizedState=Kr(1|t,n,c,i)}function Fu(e,t){return Js(8390656,8,e,t)}function Wo(e,t){return Ys(2048,8,e,t)}function Bu(e,t){return Ys(4,2,e,t)}function Wu(e,t){return Ys(4,4,e,t)}function Hu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vu(e,t,n){return n=n!=null?n.concat([e]):null,Ys(4,4,Hu.bind(null,t,e),n)}function Ho(){}function qu(e,t){var n=dt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Do(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ku(e,t){var n=dt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Do(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Gu(e,t,n){return(wn&21)===0?(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=n):(mt(n,t)||(n=Ea(),Se.lanes|=n,_n|=n,e.baseState=!0),t)}function gh(e,t){var n=he;he=n!==0&&4>n?n:4,e(!0);var i=Uo.transition;Uo.transition={};try{e(!1),t()}finally{he=n,Uo.transition=i}}function Qu(){return dt().memoizedState}function mh(e,t,n){var i=rn(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ju(e))Yu(t,n);else if(n=bu(e,t,n,i),n!==null){var l=Ve();kt(n,e,i,l),Xu(n,t,i)}}function vh(e,t,n){var i=rn(e),l={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ju(e))Yu(t,l);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,m=c(h,n);if(l.hasEagerState=!0,l.eagerState=m,mt(m,h)){var w=t.interleaved;w===null?(l.next=l,No(t)):(l.next=w.next,w.next=l),t.interleaved=l;return}}catch{}finally{}n=bu(e,t,l,i),n!==null&&(l=Ve(),kt(n,e,i,l),Xu(n,t,i))}}function Ju(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function Yu(e,t){Hr=Qs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xu(e,t,n){if((n&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Vi(e,n)}}var Xs={readContext:ct,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},yh={readContext:ct,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Fu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Js(4194308,4,Hu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Js(4194308,4,e,t)},useInsertionEffect:function(e,t){return Js(4,2,e,t)},useMemo:function(e,t){var n=bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=bt();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=mh.bind(null,Se,e),[i.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:Mu,useDebugValue:Ho,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=Mu(!1),t=e[0];return e=gh.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Se,l=bt();if(_e){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Le===null)throw Error(s(349));(wn&30)!==0||Au(i,t,n)}l.memoizedState=n;var c={value:n,getSnapshot:t};return l.queue=c,Fu($u.bind(null,i,c,e),[e]),i.flags|=2048,Kr(9,Iu.bind(null,i,c,n,t),void 0,null),n},useId:function(){var e=bt(),t=Le.identifierPrefix;if(_e){var n=At,i=Lt;n=(i&~(1<<32-gt(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ph++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wh={readContext:ct,useCallback:qu,useContext:ct,useEffect:Wo,useImperativeHandle:Vu,useInsertionEffect:Bu,useLayoutEffect:Wu,useMemo:Ku,useReducer:Fo,useRef:zu,useState:function(){return Fo(qr)},useDebugValue:Ho,useDeferredValue:function(e){var t=dt();return Gu(t,Pe.memoizedState,e)},useTransition:function(){var e=Fo(qr)[0],t=dt().memoizedState;return[e,t]},useMutableSource:Ru,useSyncExternalStore:Lu,useId:Qu,unstable_isNewReconciler:!1},_h={readContext:ct,useCallback:qu,useContext:ct,useEffect:Wo,useImperativeHandle:Vu,useInsertionEffect:Bu,useLayoutEffect:Wu,useMemo:Ku,useReducer:Bo,useRef:zu,useState:function(){return Bo(qr)},useDebugValue:Ho,useDeferredValue:function(e){var t=dt();return Pe===null?t.memoizedState=e:Gu(t,Pe.memoizedState,e)},useTransition:function(){var e=Bo(qr)[0],t=dt().memoizedState;return[e,t]},useMutableSource:Ru,useSyncExternalStore:Lu,useId:Qu,unstable_isNewReconciler:!1};function yt(e,t){if(e&&e.defaultProps){t=M({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Vo(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:M({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zs={isMounted:function(e){return(e=e._reactInternals)?fn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ve(),l=rn(e),c=$t(i,l);c.payload=t,n!=null&&(c.callback=n),t=Zt(e,c,l),t!==null&&(kt(t,e,l,i),Vs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ve(),l=rn(e),c=$t(i,l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Zt(e,c,l),t!==null&&(kt(t,e,l,i),Vs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),i=rn(e),l=$t(n,i);l.tag=2,t!=null&&(l.callback=t),t=Zt(e,l,i),t!==null&&(kt(t,e,i,n),Vs(t,e,i))}};function Zu(e,t,n,i,l,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,c,h):t.prototype&&t.prototype.isPureReactComponent?!Lr(n,i)||!Lr(l,c):!0}function ec(e,t,n){var i=!1,l=Jt,c=t.contextType;return typeof c=="object"&&c!==null?c=ct(c):(l=Ge(t)?pn:ze.current,i=t.contextTypes,c=(i=i!=null)?Bn(e,l):Jt),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zs,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=c),t}function tc(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Zs.enqueueReplaceState(t,t.state,null)}function qo(e,t,n,i){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ro(e);var c=t.contextType;typeof c=="object"&&c!==null?l.context=ct(c):(c=Ge(t)?pn:ze.current,l.context=Bn(e,c)),l.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(Vo(e,t,c,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Zs.enqueueReplaceState(l,l.state,null),qs(e,n,l,i),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Jn(e,t){try{var n="",i=t;do n+=ae(i),i=i.return;while(i);var l=n}catch(c){l=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:l,digest:null}}function Ko(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Go(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kh=typeof WeakMap=="function"?WeakMap:Map;function nc(e,t,n){n=$t(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){oi||(oi=!0,ul=i),Go(e,t)},n}function rc(e,t,n){n=$t(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var l=t.value;n.payload=function(){return i(l)},n.callback=function(){Go(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){Go(e,t),typeof i!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function sc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new kh;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(n)||(l.add(n),e=Ih.bind(null,e,t,n),t.then(e,e))}function ic(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function oc(e,t,n,i,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$t(-1,1),t.tag=2,Zt(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Sh=G.ReactCurrentOwner,Qe=!1;function He(e,t,n,i){t.child=e===null?Cu(t,null,n,i):qn(t,e.child,n,i)}function lc(e,t,n,i,l){n=n.render;var c=t.ref;return Gn(t,l),i=Mo(e,t,n,i,c,l),n=zo(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ut(e,t,l)):(_e&&n&&So(t),t.flags|=1,He(e,t,i,l),t.child)}function ac(e,t,n,i,l){if(e===null){var c=n.type;return typeof c=="function"&&!ml(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,uc(e,t,c,i,l)):(e=fi(n.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&l)===0){var h=c.memoizedProps;if(n=n.compare,n=n!==null?n:Lr,n(h,i)&&e.ref===t.ref)return Ut(e,t,l)}return t.flags|=1,e=on(c,i),e.ref=t.ref,e.return=t,t.child=e}function uc(e,t,n,i,l){if(e!==null){var c=e.memoizedProps;if(Lr(c,i)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=i=c,(e.lanes&l)!==0)(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,Ut(e,t,l)}return Qo(e,t,n,i,l)}function cc(e,t,n){var i=t.pendingProps,l=i.children,c=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(Xn,it),it|=n;else{if((n&1073741824)===0)return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(Xn,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=c!==null?c.baseLanes:n,ge(Xn,it),it|=i}else c!==null?(i=c.baseLanes|n,t.memoizedState=null):i=n,ge(Xn,it),it|=i;return He(e,t,l,n),t.child}function dc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qo(e,t,n,i,l){var c=Ge(n)?pn:ze.current;return c=Bn(t,c),Gn(t,l),n=Mo(e,t,n,i,c,l),i=zo(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ut(e,t,l)):(_e&&i&&So(t),t.flags|=1,He(e,t,n,l),t.child)}function fc(e,t,n,i,l){if(Ge(n)){var c=!0;Us(t)}else c=!1;if(Gn(t,l),t.stateNode===null)ti(e,t),ec(t,n,i),qo(t,n,i,l),i=!0;else if(e===null){var h=t.stateNode,m=t.memoizedProps;h.props=m;var w=h.context,C=n.contextType;typeof C=="object"&&C!==null?C=ct(C):(C=Ge(n)?pn:ze.current,C=Bn(t,C));var N=n.getDerivedStateFromProps,L=typeof N=="function"||typeof h.getSnapshotBeforeUpdate=="function";L||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(m!==i||w!==C)&&tc(t,h,i,C),Xt=!1;var P=t.memoizedState;h.state=P,qs(t,i,h,l),w=t.memoizedState,m!==i||P!==w||Ke.current||Xt?(typeof N=="function"&&(Vo(t,n,N,i),w=t.memoizedState),(m=Xt||Zu(t,n,m,i,P,w,C))?(L||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=w),h.props=i,h.state=w,h.context=C,i=m):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{h=t.stateNode,Pu(e,t),m=t.memoizedProps,C=t.type===t.elementType?m:yt(t.type,m),h.props=C,L=t.pendingProps,P=h.context,w=n.contextType,typeof w=="object"&&w!==null?w=ct(w):(w=Ge(n)?pn:ze.current,w=Bn(t,w));var U=n.getDerivedStateFromProps;(N=typeof U=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(m!==L||P!==w)&&tc(t,h,i,w),Xt=!1,P=t.memoizedState,h.state=P,qs(t,i,h,l);var B=t.memoizedState;m!==L||P!==B||Ke.current||Xt?(typeof U=="function"&&(Vo(t,n,U,i),B=t.memoizedState),(C=Xt||Zu(t,n,C,i,P,B,w)||!1)?(N||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(i,B,w),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(i,B,w)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||m===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=B),h.props=i,h.state=B,h.context=w,i=C):(typeof h.componentDidUpdate!="function"||m===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),i=!1)}return Jo(e,t,n,i,c,l)}function Jo(e,t,n,i,l,c){dc(e,t);var h=(t.flags&128)!==0;if(!i&&!h)return l&&vu(t,n,!1),Ut(e,t,c);i=t.stateNode,Sh.current=t;var m=h&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&h?(t.child=qn(t,e.child,null,c),t.child=qn(t,null,m,c)):He(e,t,m,c),t.memoizedState=i.state,l&&vu(t,n,!0),t.child}function hc(e){var t=e.stateNode;t.pendingContext?gu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gu(e,t.context,!1),Lo(e,t.containerInfo)}function pc(e,t,n,i,l){return Vn(),Co(l),t.flags|=256,He(e,t,n,i),t.child}var Yo={dehydrated:null,treeContext:null,retryLane:0};function Xo(e){return{baseLanes:e,cachePool:null,transitions:null}}function gc(e,t,n){var i=t.pendingProps,l=ke.current,c=!1,h=(t.flags&128)!==0,m;if((m=h)||(m=e!==null&&e.memoizedState===null?!1:(l&2)!==0),m?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ge(ke,l&1),e===null)return jo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(h=i.children,e=i.fallback,c?(i=t.mode,c=t.child,h={mode:"hidden",children:h},(i&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=h):c=hi(h,i,0,null),e=En(e,i,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=Xo(n),t.memoizedState=Yo,e):Zo(t,h));if(l=e.memoizedState,l!==null&&(m=l.dehydrated,m!==null))return xh(e,t,h,i,m,l,n);if(c){c=i.fallback,h=t.mode,l=e.child,m=l.sibling;var w={mode:"hidden",children:i.children};return(h&1)===0&&t.child!==l?(i=t.child,i.childLanes=0,i.pendingProps=w,t.deletions=null):(i=on(l,w),i.subtreeFlags=l.subtreeFlags&14680064),m!==null?c=on(m,c):(c=En(c,h,n,null),c.flags|=2),c.return=t,i.return=t,i.sibling=c,t.child=i,i=c,c=t.child,h=e.child.memoizedState,h=h===null?Xo(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},c.memoizedState=h,c.childLanes=e.childLanes&~n,t.memoizedState=Yo,i}return c=e.child,e=c.sibling,i=on(c,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Zo(e,t){return t=hi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ei(e,t,n,i){return i!==null&&Co(i),qn(t,e.child,null,n),e=Zo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xh(e,t,n,i,l,c,h){if(n)return t.flags&256?(t.flags&=-257,i=Ko(Error(s(422))),ei(e,t,h,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=i.fallback,l=t.mode,i=hi({mode:"visible",children:i.children},l,0,null),c=En(c,l,h,null),c.flags|=2,i.return=t,c.return=t,i.sibling=c,t.child=i,(t.mode&1)!==0&&qn(t,e.child,null,h),t.child.memoizedState=Xo(h),t.memoizedState=Yo,c);if((t.mode&1)===0)return ei(e,t,h,null);if(l.data==="$!"){if(i=l.nextSibling&&l.nextSibling.dataset,i)var m=i.dgst;return i=m,c=Error(s(419)),i=Ko(c,i,void 0),ei(e,t,h,i)}if(m=(h&e.childLanes)!==0,Qe||m){if(i=Le,i!==null){switch(h&-h){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(i.suspendedLanes|h))!==0?0:l,l!==0&&l!==c.retryLane&&(c.retryLane=l,It(e,l),kt(i,e,l,-1))}return gl(),i=Ko(Error(s(421))),ei(e,t,h,i)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=$h.bind(null,e),l._reactRetry=t,null):(e=c.treeContext,st=Gt(l.nextSibling),rt=t,_e=!0,vt=null,e!==null&&(at[ut++]=Lt,at[ut++]=At,at[ut++]=gn,Lt=e.id,At=e.overflow,gn=t),t=Zo(t,i.children),t.flags|=4096,t)}function mc(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Oo(e.return,t,n)}function el(e,t,n,i,l){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=i,c.tail=n,c.tailMode=l)}function vc(e,t,n){var i=t.pendingProps,l=i.revealOrder,c=i.tail;if(He(e,t,i.children,n),i=ke.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mc(e,n,t);else if(e.tag===19)mc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ge(ke,i),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Ks(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),el(t,!1,l,n,c);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ks(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}el(t,!0,n,null,c);break;case"together":el(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ti(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ut(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_n|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=on(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=on(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Eh(e,t,n){switch(t.tag){case 3:hc(t),Vn();break;case 5:Nu(t);break;case 1:Ge(t.type)&&Us(t);break;case 4:Lo(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,l=t.memoizedProps.value;ge(Ws,i._currentValue),i._currentValue=l;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(ge(ke,ke.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?gc(e,t,n):(ge(ke,ke.current&1),e=Ut(e,t,n),e!==null?e.sibling:null);ge(ke,ke.current&1);break;case 19:if(i=(n&t.childLanes)!==0,(e.flags&128)!==0){if(i)return vc(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ge(ke,ke.current),i)break;return null;case 22:case 23:return t.lanes=0,cc(e,t,n)}return Ut(e,t,n)}var yc,tl,wc,_c;yc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},tl=function(){},wc=function(e,t,n,i){var l=e.memoizedProps;if(l!==i){e=t.stateNode,yn(Ct.current);var c=null;switch(n){case"input":l=Ti(e,l),i=Ti(e,i),c=[];break;case"select":l=M({},l,{value:void 0}),i=M({},i,{value:void 0}),c=[];break;case"textarea":l=Ri(e,l),i=Ri(e,i),c=[];break;default:typeof l.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=As)}Ai(n,i);var h;n=null;for(C in l)if(!i.hasOwnProperty(C)&&l.hasOwnProperty(C)&&l[C]!=null)if(C==="style"){var m=l[C];for(h in m)m.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else C!=="dangerouslySetInnerHTML"&&C!=="children"&&C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(a.hasOwnProperty(C)?c||(c=[]):(c=c||[]).push(C,null));for(C in i){var w=i[C];if(m=l?.[C],i.hasOwnProperty(C)&&w!==m&&(w!=null||m!=null))if(C==="style")if(m){for(h in m)!m.hasOwnProperty(h)||w&&w.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in w)w.hasOwnProperty(h)&&m[h]!==w[h]&&(n||(n={}),n[h]=w[h])}else n||(c||(c=[]),c.push(C,n)),n=w;else C==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,m=m?m.__html:void 0,w!=null&&m!==w&&(c=c||[]).push(C,w)):C==="children"?typeof w!="string"&&typeof w!="number"||(c=c||[]).push(C,""+w):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&(a.hasOwnProperty(C)?(w!=null&&C==="onScroll"&&ve("scroll",e),c||m===w||(c=[])):(c=c||[]).push(C,w))}n&&(c=c||[]).push("style",n);var C=c;(t.updateQueue=C)&&(t.flags|=4)}},_c=function(e,t,n,i){n!==i&&(t.flags|=4)};function Gr(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&14680064,i|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function jh(e,t,n){var i=t.pendingProps;switch(xo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Ge(t.type)&&$s(),Be(t),null;case 3:return i=t.stateNode,Qn(),ye(Ke),ye(ze),$o(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Fs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,vt!==null&&(fl(vt),vt=null))),tl(e,t),Be(t),null;case 5:Ao(t);var l=yn(Wr.current);if(n=t.type,e!==null&&t.stateNode!=null)wc(e,t,n,i,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Be(t),null}if(e=yn(Ct.current),Fs(t)){i=t.stateNode,n=t.type;var c=t.memoizedProps;switch(i[jt]=t,i[Dr]=c,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",i),ve("close",i);break;case"iframe":case"object":case"embed":ve("load",i);break;case"video":case"audio":for(l=0;l<Ir.length;l++)ve(Ir[l],i);break;case"source":ve("error",i);break;case"img":case"image":case"link":ve("error",i),ve("load",i);break;case"details":ve("toggle",i);break;case"input":ea(i,c),ve("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!c.multiple},ve("invalid",i);break;case"textarea":ra(i,c),ve("invalid",i)}Ai(n,c),l=null;for(var h in c)if(c.hasOwnProperty(h)){var m=c[h];h==="children"?typeof m=="string"?i.textContent!==m&&(c.suppressHydrationWarning!==!0&&Ls(i.textContent,m,e),l=["children",m]):typeof m=="number"&&i.textContent!==""+m&&(c.suppressHydrationWarning!==!0&&Ls(i.textContent,m,e),l=["children",""+m]):a.hasOwnProperty(h)&&m!=null&&h==="onScroll"&&ve("scroll",i)}switch(n){case"input":cs(i),na(i,c,!0);break;case"textarea":cs(i),ia(i);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(i.onclick=As)}i=l,t.updateQueue=i,i!==null&&(t.flags|=4)}else{h=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oa(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=h.createElement(n,{is:i.is}):(e=h.createElement(n),n==="select"&&(h=e,i.multiple?h.multiple=!0:i.size&&(h.size=i.size))):e=h.createElementNS(e,n),e[jt]=t,e[Dr]=i,yc(e,t,!1,!1),t.stateNode=e;e:{switch(h=Ii(n,i),n){case"dialog":ve("cancel",e),ve("close",e),l=i;break;case"iframe":case"object":case"embed":ve("load",e),l=i;break;case"video":case"audio":for(l=0;l<Ir.length;l++)ve(Ir[l],e);l=i;break;case"source":ve("error",e),l=i;break;case"img":case"image":case"link":ve("error",e),ve("load",e),l=i;break;case"details":ve("toggle",e),l=i;break;case"input":ea(e,i),l=Ti(e,i),ve("invalid",e);break;case"option":l=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=M({},i,{value:void 0}),ve("invalid",e);break;case"textarea":ra(e,i),l=Ri(e,i),ve("invalid",e);break;default:l=i}Ai(n,l),m=l;for(c in m)if(m.hasOwnProperty(c)){var w=m[c];c==="style"?ua(e,w):c==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&la(e,w)):c==="children"?typeof w=="string"?(n!=="textarea"||w!=="")&&mr(e,w):typeof w=="number"&&mr(e,""+w):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(a.hasOwnProperty(c)?w!=null&&c==="onScroll"&&ve("scroll",e):w!=null&&D(e,c,w,h))}switch(n){case"input":cs(e),na(e,i,!1);break;case"textarea":cs(e),ia(e);break;case"option":i.value!=null&&e.setAttribute("value",""+fe(i.value));break;case"select":e.multiple=!!i.multiple,c=i.value,c!=null?On(e,!!i.multiple,c,!1):i.defaultValue!=null&&On(e,!!i.multiple,i.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=As)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Be(t),null;case 6:if(e&&t.stateNode!=null)_c(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(n=yn(Wr.current),yn(Ct.current),Fs(t)){if(i=t.stateNode,n=t.memoizedProps,i[jt]=t,(c=i.nodeValue!==n)&&(e=rt,e!==null))switch(e.tag){case 3:Ls(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ls(i.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[jt]=t,t.stateNode=i}return Be(t),null;case 13:if(ye(ke),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&st!==null&&(t.mode&1)!==0&&(t.flags&128)===0)xu(),Vn(),t.flags|=98560,c=!1;else if(c=Fs(t),i!==null&&i.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[jt]=t}else Vn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),c=!1}else vt!==null&&(fl(vt),vt=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ke.current&1)!==0?Te===0&&(Te=3):gl())),t.updateQueue!==null&&(t.flags|=4),Be(t),null);case 4:return Qn(),tl(e,t),e===null&&$r(t.stateNode.containerInfo),Be(t),null;case 10:return To(t.type._context),Be(t),null;case 17:return Ge(t.type)&&$s(),Be(t),null;case 19:if(ye(ke),c=t.memoizedState,c===null)return Be(t),null;if(i=(t.flags&128)!==0,h=c.rendering,h===null)if(i)Gr(c,!1);else{if(Te!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Ks(e),h!==null){for(t.flags|=128,Gr(c,!1),i=h.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)c=n,e=i,c.flags&=14680066,h=c.alternate,h===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=h.childLanes,c.lanes=h.lanes,c.child=h.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=h.memoizedProps,c.memoizedState=h.memoizedState,c.updateQueue=h.updateQueue,c.type=h.type,e=h.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ge(ke,ke.current&1|2),t.child}e=e.sibling}c.tail!==null&&Ee()>Zn&&(t.flags|=128,i=!0,Gr(c,!1),t.lanes=4194304)}else{if(!i)if(e=Ks(h),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Gr(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!_e)return Be(t),null}else 2*Ee()-c.renderingStartTime>Zn&&n!==1073741824&&(t.flags|=128,i=!0,Gr(c,!1),t.lanes=4194304);c.isBackwards?(h.sibling=t.child,t.child=h):(n=c.last,n!==null?n.sibling=h:t.child=h,c.last=h)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Ee(),t.sibling=null,n=ke.current,ge(ke,i?n&1|2:n&1),t):(Be(t),null);case 22:case 23:return pl(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(it&1073741824)!==0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function Ch(e,t){switch(xo(t),t.tag){case 1:return Ge(t.type)&&$s(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qn(),ye(Ke),ye(ze),$o(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ao(t),null;case 13:if(ye(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(ke),null;case 4:return Qn(),null;case 10:return To(t.type._context),null;case 22:case 23:return pl(),null;case 24:return null;default:return null}}var ni=!1,We=!1,bh=typeof WeakSet=="function"?WeakSet:Set,F=null;function Yn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){xe(e,t,i)}else n.current=null}function nl(e,t,n){try{n()}catch(i){xe(e,t,i)}}var kc=!1;function Ph(e,t){if(po=Ss,e=Za(),io(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,c=i.focusNode;i=i.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var h=0,m=-1,w=-1,C=0,N=0,L=e,P=null;t:for(;;){for(var U;L!==n||l!==0&&L.nodeType!==3||(m=h+l),L!==c||i!==0&&L.nodeType!==3||(w=h+i),L.nodeType===3&&(h+=L.nodeValue.length),(U=L.firstChild)!==null;)P=L,L=U;for(;;){if(L===e)break t;if(P===n&&++C===l&&(m=h),P===c&&++N===i&&(w=h),(U=L.nextSibling)!==null)break;L=P,P=L.parentNode}L=U}n=m===-1||w===-1?null:{start:m,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(go={focusedElem:e,selectionRange:n},Ss=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var B=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var W=B.memoizedProps,je=B.memoizedState,E=t.stateNode,_=E.getSnapshotBeforeUpdate(t.elementType===t.type?W:yt(t.type,W),je);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(I){xe(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return B=kc,kc=!1,B}function Qr(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&e)===e){var c=l.destroy;l.destroy=void 0,c!==void 0&&nl(t,n,c)}l=l.next}while(l!==i)}}function ri(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sc(e){var t=e.alternate;t!==null&&(e.alternate=null,Sc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jt],delete t[Dr],delete t[wo],delete t[ch],delete t[dh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xc(e){return e.tag===5||e.tag===3||e.tag===4}function Ec(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=As));else if(i!==4&&(e=e.child,e!==null))for(sl(e,t,n),e=e.sibling;e!==null;)sl(e,t,n),e=e.sibling}function il(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(il(e,t,n),e=e.sibling;e!==null;)il(e,t,n),e=e.sibling}var Ue=null,wt=!1;function en(e,t,n){for(n=n.child;n!==null;)jc(e,t,n),n=n.sibling}function jc(e,t,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(ms,n)}catch{}switch(n.tag){case 5:We||Yn(n,t);case 6:var i=Ue,l=wt;Ue=null,en(e,t,n),Ue=i,wt=l,Ue!==null&&(wt?(e=Ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ue.removeChild(n.stateNode));break;case 18:Ue!==null&&(wt?(e=Ue,n=n.stateNode,e.nodeType===8?yo(e.parentNode,n):e.nodeType===1&&yo(e,n),br(e)):yo(Ue,n.stateNode));break;case 4:i=Ue,l=wt,Ue=n.stateNode.containerInfo,wt=!0,en(e,t,n),Ue=i,wt=l;break;case 0:case 11:case 14:case 15:if(!We&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){l=i=i.next;do{var c=l,h=c.destroy;c=c.tag,h!==void 0&&((c&2)!==0||(c&4)!==0)&&nl(n,t,h),l=l.next}while(l!==i)}en(e,t,n);break;case 1:if(!We&&(Yn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(m){xe(n,t,m)}en(e,t,n);break;case 21:en(e,t,n);break;case 22:n.mode&1?(We=(i=We)||n.memoizedState!==null,en(e,t,n),We=i):en(e,t,n);break;default:en(e,t,n)}}function Cc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new bh),t.forEach(function(i){var l=Uh.bind(null,e,i);n.has(i)||(n.add(i),i.then(l,l))})}}function _t(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];try{var c=e,h=t,m=h;e:for(;m!==null;){switch(m.tag){case 5:Ue=m.stateNode,wt=!1;break e;case 3:Ue=m.stateNode.containerInfo,wt=!0;break e;case 4:Ue=m.stateNode.containerInfo,wt=!0;break e}m=m.return}if(Ue===null)throw Error(s(160));jc(c,h,l),Ue=null,wt=!1;var w=l.alternate;w!==null&&(w.return=null),l.return=null}catch(C){xe(l,t,C)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bc(t,e),t=t.sibling}function bc(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_t(t,e),Pt(e),i&4){try{Qr(3,e,e.return),ri(3,e)}catch(W){xe(e,e.return,W)}try{Qr(5,e,e.return)}catch(W){xe(e,e.return,W)}}break;case 1:_t(t,e),Pt(e),i&512&&n!==null&&Yn(n,n.return);break;case 5:if(_t(t,e),Pt(e),i&512&&n!==null&&Yn(n,n.return),e.flags&32){var l=e.stateNode;try{mr(l,"")}catch(W){xe(e,e.return,W)}}if(i&4&&(l=e.stateNode,l!=null)){var c=e.memoizedProps,h=n!==null?n.memoizedProps:c,m=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{m==="input"&&c.type==="radio"&&c.name!=null&&ta(l,c),Ii(m,h);var C=Ii(m,c);for(h=0;h<w.length;h+=2){var N=w[h],L=w[h+1];N==="style"?ua(l,L):N==="dangerouslySetInnerHTML"?la(l,L):N==="children"?mr(l,L):D(l,N,L,C)}switch(m){case"input":Oi(l,c);break;case"textarea":sa(l,c);break;case"select":var P=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!c.multiple;var U=c.value;U!=null?On(l,!!c.multiple,U,!1):P!==!!c.multiple&&(c.defaultValue!=null?On(l,!!c.multiple,c.defaultValue,!0):On(l,!!c.multiple,c.multiple?[]:"",!1))}l[Dr]=c}catch(W){xe(e,e.return,W)}}break;case 6:if(_t(t,e),Pt(e),i&4){if(e.stateNode===null)throw Error(s(162));l=e.stateNode,c=e.memoizedProps;try{l.nodeValue=c}catch(W){xe(e,e.return,W)}}break;case 3:if(_t(t,e),Pt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{br(t.containerInfo)}catch(W){xe(e,e.return,W)}break;case 4:_t(t,e),Pt(e);break;case 13:_t(t,e),Pt(e),l=e.child,l.flags&8192&&(c=l.memoizedState!==null,l.stateNode.isHidden=c,!c||l.alternate!==null&&l.alternate.memoizedState!==null||(al=Ee())),i&4&&Cc(e);break;case 22:if(N=n!==null&&n.memoizedState!==null,e.mode&1?(We=(C=We)||N,_t(t,e),We=C):_t(t,e),Pt(e),i&8192){if(C=e.memoizedState!==null,(e.stateNode.isHidden=C)&&!N&&(e.mode&1)!==0)for(F=e,N=e.child;N!==null;){for(L=F=N;F!==null;){switch(P=F,U=P.child,P.tag){case 0:case 11:case 14:case 15:Qr(4,P,P.return);break;case 1:Yn(P,P.return);var B=P.stateNode;if(typeof B.componentWillUnmount=="function"){i=P,n=P.return;try{t=i,B.props=t.memoizedProps,B.state=t.memoizedState,B.componentWillUnmount()}catch(W){xe(i,n,W)}}break;case 5:Yn(P,P.return);break;case 22:if(P.memoizedState!==null){Oc(L);continue}}U!==null?(U.return=P,F=U):Oc(L)}N=N.sibling}e:for(N=null,L=e;;){if(L.tag===5){if(N===null){N=L;try{l=L.stateNode,C?(c=l.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(m=L.stateNode,w=L.memoizedProps.style,h=w!=null&&w.hasOwnProperty("display")?w.display:null,m.style.display=aa("display",h))}catch(W){xe(e,e.return,W)}}}else if(L.tag===6){if(N===null)try{L.stateNode.nodeValue=C?"":L.memoizedProps}catch(W){xe(e,e.return,W)}}else if((L.tag!==22&&L.tag!==23||L.memoizedState===null||L===e)&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===e)break e;for(;L.sibling===null;){if(L.return===null||L.return===e)break e;N===L&&(N=null),L=L.return}N===L&&(N=null),L.sibling.return=L.return,L=L.sibling}}break;case 19:_t(t,e),Pt(e),i&4&&Cc(e);break;case 21:break;default:_t(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(xc(n)){var i=n;break e}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var l=i.stateNode;i.flags&32&&(mr(l,""),i.flags&=-33);var c=Ec(e);il(e,c,l);break;case 3:case 4:var h=i.stateNode.containerInfo,m=Ec(e);sl(e,m,h);break;default:throw Error(s(161))}}catch(w){xe(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Th(e,t,n){F=e,Pc(e)}function Pc(e,t,n){for(var i=(e.mode&1)!==0;F!==null;){var l=F,c=l.child;if(l.tag===22&&i){var h=l.memoizedState!==null||ni;if(!h){var m=l.alternate,w=m!==null&&m.memoizedState!==null||We;m=ni;var C=We;if(ni=h,(We=w)&&!C)for(F=l;F!==null;)h=F,w=h.child,h.tag===22&&h.memoizedState!==null?Nc(l):w!==null?(w.return=h,F=w):Nc(l);for(;c!==null;)F=c,Pc(c),c=c.sibling;F=l,ni=m,We=C}Tc(e)}else(l.subtreeFlags&8772)!==0&&c!==null?(c.return=l,F=c):Tc(e)}}function Tc(e){for(;F!==null;){var t=F;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:We||ri(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!We)if(n===null)i.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:yt(t.type,n.memoizedProps);i.componentDidUpdate(l,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&Ou(t,c,i);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ou(t,h,n)}break;case 5:var m=t.stateNode;if(n===null&&t.flags&4){n=m;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&n.focus();break;case"img":w.src&&(n.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var C=t.alternate;if(C!==null){var N=C.memoizedState;if(N!==null){var L=N.dehydrated;L!==null&&br(L)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}We||t.flags&512&&rl(t)}catch(P){xe(t,t.return,P)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Oc(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function Nc(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ri(4,t)}catch(w){xe(t,n,w)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var l=t.return;try{i.componentDidMount()}catch(w){xe(t,l,w)}}var c=t.return;try{rl(t)}catch(w){xe(t,c,w)}break;case 5:var h=t.return;try{rl(t)}catch(w){xe(t,h,w)}}}catch(w){xe(t,t.return,w)}if(t===e){F=null;break}var m=t.sibling;if(m!==null){m.return=t.return,F=m;break}F=t.return}}var Oh=Math.ceil,si=G.ReactCurrentDispatcher,ol=G.ReactCurrentOwner,ft=G.ReactCurrentBatchConfig,oe=0,Le=null,be=null,De=0,it=0,Xn=Qt(0),Te=0,Jr=null,_n=0,ii=0,ll=0,Yr=null,Je=null,al=0,Zn=1/0,Dt=null,oi=!1,ul=null,tn=null,li=!1,nn=null,ai=0,Xr=0,cl=null,ui=-1,ci=0;function Ve(){return(oe&6)!==0?Ee():ui!==-1?ui:ui=Ee()}function rn(e){return(e.mode&1)===0?1:(oe&2)!==0&&De!==0?De&-De:hh.transition!==null?(ci===0&&(ci=Ea()),ci):(e=he,e!==0||(e=window.event,e=e===void 0?16:La(e.type)),e)}function kt(e,t,n,i){if(50<Xr)throw Xr=0,cl=null,Error(s(185));Sr(e,n,i),((oe&2)===0||e!==Le)&&(e===Le&&((oe&2)===0&&(ii|=n),Te===4&&sn(e,De)),Ye(e,i),n===1&&oe===0&&(t.mode&1)===0&&(Zn=Ee()+500,Ds&&Yt()))}function Ye(e,t){var n=e.callbackNode;hf(e,t);var i=ws(e,e===Le?De:0);if(i===0)n!==null&&ka(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&ka(n),t===1)e.tag===0?fh(Lc.bind(null,e)):yu(Lc.bind(null,e)),ah(function(){(oe&6)===0&&Yt()}),n=null;else{switch(ja(i)){case 1:n=Bi;break;case 4:n=Sa;break;case 16:n=gs;break;case 536870912:n=xa;break;default:n=gs}n=Fc(n,Rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Rc(e,t){if(ui=-1,ci=0,(oe&6)!==0)throw Error(s(327));var n=e.callbackNode;if(er()&&e.callbackNode!==n)return null;var i=ws(e,e===Le?De:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=di(e,i);else{t=i;var l=oe;oe|=2;var c=Ic();(Le!==e||De!==t)&&(Dt=null,Zn=Ee()+500,Sn(e,t));do try{Lh();break}catch(m){Ac(e,m)}while(!0);Po(),si.current=c,oe=l,be!==null?t=0:(Le=null,De=0,t=Te)}if(t!==0){if(t===2&&(l=Wi(e),l!==0&&(i=l,t=dl(e,l))),t===1)throw n=Jr,Sn(e,0),sn(e,i),Ye(e,Ee()),n;if(t===6)sn(e,i);else{if(l=e.current.alternate,(i&30)===0&&!Nh(l)&&(t=di(e,i),t===2&&(c=Wi(e),c!==0&&(i=c,t=dl(e,c))),t===1))throw n=Jr,Sn(e,0),sn(e,i),Ye(e,Ee()),n;switch(e.finishedWork=l,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:xn(e,Je,Dt);break;case 3:if(sn(e,i),(i&130023424)===i&&(t=al+500-Ee(),10<t)){if(ws(e,0)!==0)break;if(l=e.suspendedLanes,(l&i)!==i){Ve(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=vo(xn.bind(null,e,Je,Dt),t);break}xn(e,Je,Dt);break;case 4:if(sn(e,i),(i&4194240)===i)break;for(t=e.eventTimes,l=-1;0<i;){var h=31-gt(i);c=1<<h,h=t[h],h>l&&(l=h),i&=~c}if(i=l,i=Ee()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Oh(i/1960))-i,10<i){e.timeoutHandle=vo(xn.bind(null,e,Je,Dt),i);break}xn(e,Je,Dt);break;case 5:xn(e,Je,Dt);break;default:throw Error(s(329))}}}return Ye(e,Ee()),e.callbackNode===n?Rc.bind(null,e):null}function dl(e,t){var n=Yr;return e.current.memoizedState.isDehydrated&&(Sn(e,t).flags|=256),e=di(e,t),e!==2&&(t=Je,Je=n,t!==null&&fl(t)),e}function fl(e){Je===null?Je=e:Je.push.apply(Je,e)}function Nh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var l=n[i],c=l.getSnapshot;l=l.value;try{if(!mt(c(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sn(e,t){for(t&=~ll,t&=~ii,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gt(t),i=1<<n;e[n]=-1,t&=~i}}function Lc(e){if((oe&6)!==0)throw Error(s(327));er();var t=ws(e,0);if((t&1)===0)return Ye(e,Ee()),null;var n=di(e,t);if(e.tag!==0&&n===2){var i=Wi(e);i!==0&&(t=i,n=dl(e,i))}if(n===1)throw n=Jr,Sn(e,0),sn(e,t),Ye(e,Ee()),n;if(n===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xn(e,Je,Dt),Ye(e,Ee()),null}function hl(e,t){var n=oe;oe|=1;try{return e(t)}finally{oe=n,oe===0&&(Zn=Ee()+500,Ds&&Yt())}}function kn(e){nn!==null&&nn.tag===0&&(oe&6)===0&&er();var t=oe;oe|=1;var n=ft.transition,i=he;try{if(ft.transition=null,he=1,e)return e()}finally{he=i,ft.transition=n,oe=t,(oe&6)===0&&Yt()}}function pl(){it=Xn.current,ye(Xn)}function Sn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,lh(n)),be!==null)for(n=be.return;n!==null;){var i=n;switch(xo(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&$s();break;case 3:Qn(),ye(Ke),ye(ze),$o();break;case 5:Ao(i);break;case 4:Qn();break;case 13:ye(ke);break;case 19:ye(ke);break;case 10:To(i.type._context);break;case 22:case 23:pl()}n=n.return}if(Le=e,be=e=on(e.current,null),De=it=t,Te=0,Jr=null,ll=ii=_n=0,Je=Yr=null,vn!==null){for(t=0;t<vn.length;t++)if(n=vn[t],i=n.interleaved,i!==null){n.interleaved=null;var l=i.next,c=n.pending;if(c!==null){var h=c.next;c.next=l,i.next=h}n.pending=i}vn=null}return e}function Ac(e,t){do{var n=be;try{if(Po(),Gs.current=Xs,Qs){for(var i=Se.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Qs=!1}if(wn=0,Re=Pe=Se=null,Hr=!1,Vr=0,ol.current=null,n===null||n.return===null){Te=1,Jr=t,be=null;break}e:{var c=e,h=n.return,m=n,w=t;if(t=De,m.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var C=w,N=m,L=N.tag;if((N.mode&1)===0&&(L===0||L===11||L===15)){var P=N.alternate;P?(N.updateQueue=P.updateQueue,N.memoizedState=P.memoizedState,N.lanes=P.lanes):(N.updateQueue=null,N.memoizedState=null)}var U=ic(h);if(U!==null){U.flags&=-257,oc(U,h,m,c,t),U.mode&1&&sc(c,C,t),t=U,w=C;var B=t.updateQueue;if(B===null){var W=new Set;W.add(w),t.updateQueue=W}else B.add(w);break e}else{if((t&1)===0){sc(c,C,t),gl();break e}w=Error(s(426))}}else if(_e&&m.mode&1){var je=ic(h);if(je!==null){(je.flags&65536)===0&&(je.flags|=256),oc(je,h,m,c,t),Co(Jn(w,m));break e}}c=w=Jn(w,m),Te!==4&&(Te=2),Yr===null?Yr=[c]:Yr.push(c),c=h;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var E=nc(c,w,t);Tu(c,E);break e;case 1:m=w;var _=c.type,j=c.stateNode;if((c.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(tn===null||!tn.has(j)))){c.flags|=65536,t&=-t,c.lanes|=t;var I=rc(c,m,t);Tu(c,I);break e}}c=c.return}while(c!==null)}Uc(n)}catch(H){t=H,be===n&&n!==null&&(be=n=n.return);continue}break}while(!0)}function Ic(){var e=si.current;return si.current=Xs,e===null?Xs:e}function gl(){(Te===0||Te===3||Te===2)&&(Te=4),Le===null||(_n&268435455)===0&&(ii&268435455)===0||sn(Le,De)}function di(e,t){var n=oe;oe|=2;var i=Ic();(Le!==e||De!==t)&&(Dt=null,Sn(e,t));do try{Rh();break}catch(l){Ac(e,l)}while(!0);if(Po(),oe=n,si.current=i,be!==null)throw Error(s(261));return Le=null,De=0,Te}function Rh(){for(;be!==null;)$c(be)}function Lh(){for(;be!==null&&!rf();)$c(be)}function $c(e){var t=zc(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?Uc(e):be=t,ol.current=null}function Uc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=jh(n,t,it),n!==null){be=n;return}}else{if(n=Ch(n,t),n!==null){n.flags&=32767,be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Te=6,be=null;return}}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Te===0&&(Te=5)}function xn(e,t,n){var i=he,l=ft.transition;try{ft.transition=null,he=1,Ah(e,t,n,i)}finally{ft.transition=l,he=i}return null}function Ah(e,t,n,i){do er();while(nn!==null);if((oe&6)!==0)throw Error(s(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(pf(e,c),e===Le&&(be=Le=null,De=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||li||(li=!0,Fc(gs,function(){return er(),null})),c=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||c){c=ft.transition,ft.transition=null;var h=he;he=1;var m=oe;oe|=4,ol.current=null,Ph(e,n),bc(n,e),eh(go),Ss=!!po,go=po=null,e.current=n,Th(n),sf(),oe=m,he=h,ft.transition=c}else e.current=n;if(li&&(li=!1,nn=e,ai=l),c=e.pendingLanes,c===0&&(tn=null),af(n.stateNode),Ye(e,Ee()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],i(l.value,{componentStack:l.stack,digest:l.digest});if(oi)throw oi=!1,e=ul,ul=null,e;return(ai&1)!==0&&e.tag!==0&&er(),c=e.pendingLanes,(c&1)!==0?e===cl?Xr++:(Xr=0,cl=e):Xr=0,Yt(),null}function er(){if(nn!==null){var e=ja(ai),t=ft.transition,n=he;try{if(ft.transition=null,he=16>e?16:e,nn===null)var i=!1;else{if(e=nn,nn=null,ai=0,(oe&6)!==0)throw Error(s(331));var l=oe;for(oe|=4,F=e.current;F!==null;){var c=F,h=c.child;if((F.flags&16)!==0){var m=c.deletions;if(m!==null){for(var w=0;w<m.length;w++){var C=m[w];for(F=C;F!==null;){var N=F;switch(N.tag){case 0:case 11:case 15:Qr(8,N,c)}var L=N.child;if(L!==null)L.return=N,F=L;else for(;F!==null;){N=F;var P=N.sibling,U=N.return;if(Sc(N),N===C){F=null;break}if(P!==null){P.return=U,F=P;break}F=U}}}var B=c.alternate;if(B!==null){var W=B.child;if(W!==null){B.child=null;do{var je=W.sibling;W.sibling=null,W=je}while(W!==null)}}F=c}}if((c.subtreeFlags&2064)!==0&&h!==null)h.return=c,F=h;else e:for(;F!==null;){if(c=F,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:Qr(9,c,c.return)}var E=c.sibling;if(E!==null){E.return=c.return,F=E;break e}F=c.return}}var _=e.current;for(F=_;F!==null;){h=F;var j=h.child;if((h.subtreeFlags&2064)!==0&&j!==null)j.return=h,F=j;else e:for(h=_;F!==null;){if(m=F,(m.flags&2048)!==0)try{switch(m.tag){case 0:case 11:case 15:ri(9,m)}}catch(H){xe(m,m.return,H)}if(m===h){F=null;break e}var I=m.sibling;if(I!==null){I.return=m.return,F=I;break e}F=m.return}}if(oe=l,Yt(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(ms,e)}catch{}i=!0}return i}finally{he=n,ft.transition=t}}return!1}function Dc(e,t,n){t=Jn(n,t),t=nc(e,t,1),e=Zt(e,t,1),t=Ve(),e!==null&&(Sr(e,1,t),Ye(e,t))}function xe(e,t,n){if(e.tag===3)Dc(e,e,n);else for(;t!==null;){if(t.tag===3){Dc(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(tn===null||!tn.has(i))){e=Jn(n,e),e=rc(t,e,1),t=Zt(t,e,1),e=Ve(),t!==null&&(Sr(t,1,e),Ye(t,e));break}}t=t.return}}function Ih(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,Le===e&&(De&n)===n&&(Te===4||Te===3&&(De&130023424)===De&&500>Ee()-al?Sn(e,0):ll|=n),Ye(e,t)}function Mc(e,t){t===0&&((e.mode&1)===0?t=1:(t=ys,ys<<=1,(ys&130023424)===0&&(ys=4194304)));var n=Ve();e=It(e,t),e!==null&&(Sr(e,t,n),Ye(e,n))}function $h(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Mc(e,n)}function Uh(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(t),Mc(e,n)}var zc;zc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ke.current)Qe=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Qe=!1,Eh(e,t,n);Qe=(e.flags&131072)!==0}else Qe=!1,_e&&(t.flags&1048576)!==0&&wu(t,zs,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;ti(e,t),e=t.pendingProps;var l=Bn(t,ze.current);Gn(t,n),l=Mo(null,t,i,e,l,n);var c=zo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ge(i)?(c=!0,Us(t)):c=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ro(t),l.updater=Zs,t.stateNode=l,l._reactInternals=t,qo(t,i,e,n),t=Jo(null,t,i,!0,c,n)):(t.tag=0,_e&&c&&So(t),He(null,t,l,n),t=t.child),t;case 16:i=t.elementType;e:{switch(ti(e,t),e=t.pendingProps,l=i._init,i=l(i._payload),t.type=i,l=t.tag=Mh(i),e=yt(i,e),l){case 0:t=Qo(null,t,i,e,n);break e;case 1:t=fc(null,t,i,e,n);break e;case 11:t=lc(null,t,i,e,n);break e;case 14:t=ac(null,t,i,yt(i.type,e),n);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:yt(i,l),Qo(e,t,i,l,n);case 1:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:yt(i,l),fc(e,t,i,l,n);case 3:e:{if(hc(t),e===null)throw Error(s(387));i=t.pendingProps,c=t.memoizedState,l=c.element,Pu(e,t),qs(t,i,null,n);var h=t.memoizedState;if(i=h.element,c.isDehydrated)if(c={element:i,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){l=Jn(Error(s(423)),t),t=pc(e,t,i,n,l);break e}else if(i!==l){l=Jn(Error(s(424)),t),t=pc(e,t,i,n,l);break e}else for(st=Gt(t.stateNode.containerInfo.firstChild),rt=t,_e=!0,vt=null,n=Cu(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vn(),i===l){t=Ut(e,t,n);break e}He(e,t,i,n)}t=t.child}return t;case 5:return Nu(t),e===null&&jo(t),i=t.type,l=t.pendingProps,c=e!==null?e.memoizedProps:null,h=l.children,mo(i,l)?h=null:c!==null&&mo(i,c)&&(t.flags|=32),dc(e,t),He(e,t,h,n),t.child;case 6:return e===null&&jo(t),null;case 13:return gc(e,t,n);case 4:return Lo(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=qn(t,null,i,n):He(e,t,i,n),t.child;case 11:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:yt(i,l),lc(e,t,i,l,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,l=t.pendingProps,c=t.memoizedProps,h=l.value,ge(Ws,i._currentValue),i._currentValue=h,c!==null)if(mt(c.value,h)){if(c.children===l.children&&!Ke.current){t=Ut(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var m=c.dependencies;if(m!==null){h=c.child;for(var w=m.firstContext;w!==null;){if(w.context===i){if(c.tag===1){w=$t(-1,n&-n),w.tag=2;var C=c.updateQueue;if(C!==null){C=C.shared;var N=C.pending;N===null?w.next=w:(w.next=N.next,N.next=w),C.pending=w}}c.lanes|=n,w=c.alternate,w!==null&&(w.lanes|=n),Oo(c.return,n,t),m.lanes|=n;break}w=w.next}}else if(c.tag===10)h=c.type===t.type?null:c.child;else if(c.tag===18){if(h=c.return,h===null)throw Error(s(341));h.lanes|=n,m=h.alternate,m!==null&&(m.lanes|=n),Oo(h,n,t),h=c.sibling}else h=c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===t){h=null;break}if(c=h.sibling,c!==null){c.return=h.return,h=c;break}h=h.return}c=h}He(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,i=t.pendingProps.children,Gn(t,n),l=ct(l),i=i(l),t.flags|=1,He(e,t,i,n),t.child;case 14:return i=t.type,l=yt(i,t.pendingProps),l=yt(i.type,l),ac(e,t,i,l,n);case 15:return uc(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:yt(i,l),ti(e,t),t.tag=1,Ge(i)?(e=!0,Us(t)):e=!1,Gn(t,n),ec(t,i,l),qo(t,i,l,n),Jo(null,t,i,!0,e,n);case 19:return vc(e,t,n);case 22:return cc(e,t,n)}throw Error(s(156,t.tag))};function Fc(e,t){return _a(e,t)}function Dh(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,n,i){return new Dh(e,t,n,i)}function ml(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mh(e){if(typeof e=="function")return ml(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ot)return 11;if(e===lt)return 14}return 2}function on(e,t){var n=e.alternate;return n===null?(n=ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fi(e,t,n,i,l,c){var h=2;if(i=e,typeof e=="function")ml(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case ne:return En(n.children,l,c,t);case Me:h=8,l|=8;break;case Ze:return e=ht(12,n,t,l|2),e.elementType=Ze,e.lanes=c,e;case Ce:return e=ht(13,n,t,l),e.elementType=Ce,e.lanes=c,e;case et:return e=ht(19,n,t,l),e.elementType=et,e.lanes=c,e;case ee:return hi(n,l,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:h=10;break e;case Ot:h=9;break e;case ot:h=11;break e;case lt:h=14;break e;case $e:h=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=ht(h,n,t,l),t.elementType=e,t.type=i,t.lanes=c,t}function En(e,t,n,i){return e=ht(7,e,i,t),e.lanes=n,e}function hi(e,t,n,i){return e=ht(22,e,i,t),e.elementType=ee,e.lanes=n,e.stateNode={isHidden:!1},e}function vl(e,t,n){return e=ht(6,e,null,t),e.lanes=n,e}function yl(e,t,n){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zh(e,t,n,i,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hi(0),this.expirationTimes=Hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.identifierPrefix=i,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function wl(e,t,n,i,l,c,h,m,w){return e=new zh(e,t,n,m,w),t===1?(t=1,c===!0&&(t|=8)):t=0,c=ht(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(c),e}function Fh(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Jt;e=e._reactInternals;e:{if(fn(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ge(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var n=e.type;if(Ge(n))return mu(e,n,t)}return t}function Wc(e,t,n,i,l,c,h,m,w){return e=wl(n,i,!0,e,l,c,h,m,w),e.context=Bc(null),n=e.current,i=Ve(),l=rn(n),c=$t(i,l),c.callback=t??null,Zt(n,c,l),e.current.lanes=l,Sr(e,l,i),Ye(e,i),e}function pi(e,t,n,i){var l=t.current,c=Ve(),h=rn(l);return n=Bc(n),t.context===null?t.context=n:t.pendingContext=n,t=$t(c,h),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Zt(l,t,h),e!==null&&(kt(e,l,h,c),Vs(e,l,h)),h}function gi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _l(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}function Bh(){return null}var Vc=typeof reportError=="function"?reportError:function(e){console.error(e)};function kl(e){this._internalRoot=e}mi.prototype.render=kl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));pi(e,t,null,null)},mi.prototype.unmount=kl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kn(function(){pi(null,e,null,null)}),t[Nt]=null}};function mi(e){this._internalRoot=e}mi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pa();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vt.length&&t!==0&&t<Vt[n].priority;n++);Vt.splice(n,0,e),n===0&&Na(e)}};function Sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qc(){}function Wh(e,t,n,i,l){if(l){if(typeof i=="function"){var c=i;i=function(){var C=gi(h);c.call(C)}}var h=Wc(t,i,e,0,null,!1,!1,"",qc);return e._reactRootContainer=h,e[Nt]=h.current,$r(e.nodeType===8?e.parentNode:e),kn(),h}for(;l=e.lastChild;)e.removeChild(l);if(typeof i=="function"){var m=i;i=function(){var C=gi(w);m.call(C)}}var w=wl(e,0,!1,null,null,!1,!1,"",qc);return e._reactRootContainer=w,e[Nt]=w.current,$r(e.nodeType===8?e.parentNode:e),kn(function(){pi(t,w,n,i)}),w}function yi(e,t,n,i,l){var c=n._reactRootContainer;if(c){var h=c;if(typeof l=="function"){var m=l;l=function(){var w=gi(h);m.call(w)}}pi(t,h,e,l)}else h=Wh(n,t,e,l,i);return gi(h)}Ca=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=kr(t.pendingLanes);n!==0&&(Vi(t,n|1),Ye(t,Ee()),(oe&6)===0&&(Zn=Ee()+500,Yt()))}break;case 13:kn(function(){var i=It(e,1);if(i!==null){var l=Ve();kt(i,e,1,l)}}),_l(e,1)}},qi=function(e){if(e.tag===13){var t=It(e,134217728);if(t!==null){var n=Ve();kt(t,e,134217728,n)}_l(e,134217728)}},ba=function(e){if(e.tag===13){var t=rn(e),n=It(e,t);if(n!==null){var i=Ve();kt(n,e,t,i)}_l(e,t)}},Pa=function(){return he},Ta=function(e,t){var n=he;try{return he=e,t()}finally{he=n}},Di=function(e,t,n){switch(t){case"input":if(Oi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var l=Is(i);if(!l)throw Error(s(90));Zl(i),Oi(i,l)}}}break;case"textarea":sa(e,n);break;case"select":t=n.value,t!=null&&On(e,!!n.multiple,t,!1)}},ha=hl,pa=kn;var Hh={usingClientEntryPoint:!1,Events:[Mr,zn,Is,da,fa,hl]},Zr={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vh={bundleType:Zr.bundleType,version:Zr.version,rendererPackageName:Zr.rendererPackageName,rendererConfig:Zr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ya(e),e===null?null:e.stateNode},findFiberByHostInstance:Zr.findFiberByHostInstance||Bh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wi.isDisabled&&wi.supportsFiber)try{ms=wi.inject(Vh),Et=wi}catch{}}return Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hh,Xe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sl(t))throw Error(s(200));return Fh(e,t,null,n)},Xe.createRoot=function(e,t){if(!Sl(e))throw Error(s(299));var n=!1,i="",l=Vc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=wl(e,1,!1,null,null,n,!1,i,l),e[Nt]=t.current,$r(e.nodeType===8?e.parentNode:e),new kl(t)},Xe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=ya(t),e=e===null?null:e.stateNode,e},Xe.flushSync=function(e){return kn(e)},Xe.hydrate=function(e,t,n){if(!vi(t))throw Error(s(200));return yi(null,e,t,!0,n)},Xe.hydrateRoot=function(e,t,n){if(!Sl(e))throw Error(s(405));var i=n!=null&&n.hydratedSources||null,l=!1,c="",h=Vc;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=Wc(t,null,e,1,n??null,l,!1,c,h),e[Nt]=t.current,$r(e),i)for(e=0;e<i.length;e++)n=i[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new mi(t)},Xe.render=function(e,t,n){if(!vi(t))throw Error(s(200));return yi(null,e,t,!1,n)},Xe.unmountComponentAtNode=function(e){if(!vi(e))throw Error(s(40));return e._reactRootContainer?(kn(function(){yi(null,null,e,!1,function(){e._reactRootContainer=null,e[Nt]=null})}),!0):!1},Xe.unstable_batchedUpdates=hl,Xe.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!vi(n))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return yi(e,t,n,!1,i)},Xe.version="18.3.1-next-f1338f8080-20240426",Xe}var ed;function tp(){if(ed)return jl.exports;ed=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),jl.exports=ep(),jl.exports}var td;function np(){if(td)return _i;td=1;var u=tp();return _i.createRoot=u.createRoot,_i.hydrateRoot=u.hydrateRoot,_i}var rp=np();const sp=ql(rp),ip="modulepreload",op=function(u){return"/anime-osuume/"+u},nd={},as=function(r,s,o){let a=Promise.resolve();if(s&&s.length>0){let v=function(y){return Promise.all(y.map(x=>Promise.resolve(x).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var f=v;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");a=v(s.map(y=>{if(y=op(y),y in nd)return;nd[y]=!0;const x=y.endsWith(".css"),b=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${b}`))return;const T=document.createElement("link");if(T.rel=x?"stylesheet":ip,x||(T.as="script"),T.crossOrigin="",T.href=y,g&&T.setAttribute("nonce",g),document.head.appendChild(T),x)return new Promise(($,z)=>{T.addEventListener("load",$),T.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${y}`)))})}))}function d(p){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=p,window.dispatchEvent(g),!g.defaultPrevented)throw p}return a.then(p=>{for(const g of p||[])g.status==="rejected"&&d(g.reason);return r().catch(d)})},lp=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...s)=>as(async()=>{const{default:o}=await Promise.resolve().then(()=>pr);return{default:o}},void 0).then(({default:o})=>o(...s)):r=fetch,(...s)=>r(...s)};class Gl extends Error{constructor(r,s="FunctionsError",o){super(r),this.name=s,this.context=o}}class ap extends Gl{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class rd extends Gl{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class sd extends Gl{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Il;(function(u){u.Any="any",u.ApNortheast1="ap-northeast-1",u.ApNortheast2="ap-northeast-2",u.ApSouth1="ap-south-1",u.ApSoutheast1="ap-southeast-1",u.ApSoutheast2="ap-southeast-2",u.CaCentral1="ca-central-1",u.EuCentral1="eu-central-1",u.EuWest1="eu-west-1",u.EuWest2="eu-west-2",u.EuWest3="eu-west-3",u.SaEast1="sa-east-1",u.UsEast1="us-east-1",u.UsWest1="us-west-1",u.UsWest2="us-west-2"})(Il||(Il={}));var up=function(u,r,s,o){function a(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function p(y){try{v(o.next(y))}catch(x){f(x)}}function g(y){try{v(o.throw(y))}catch(x){f(x)}}function v(y){y.done?d(y.value):a(y.value).then(p,g)}v((o=o.apply(u,r||[])).next())})};class cp{constructor(r,{headers:s={},customFetch:o,region:a=Il.Any}={}){this.url=r,this.headers=s,this.region=a,this.fetch=lp(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,s={}){var o;return up(this,void 0,void 0,function*(){try{const{headers:a,method:d,body:f}=s;let p={},{region:g}=s;g||(g=this.region);const v=new URL(`${this.url}/${r}`);g&&g!=="any"&&(p["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let y;f&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",y=f):typeof f=="string"?(p["Content-Type"]="text/plain",y=f):typeof FormData<"u"&&f instanceof FormData?y=f:(p["Content-Type"]="application/json",y=JSON.stringify(f)));const x=yield this.fetch(v.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:y}).catch(z=>{throw new ap(z)}),b=x.headers.get("x-relay-error");if(b&&b==="true")throw new rd(x);if(!x.ok)throw new sd(x);let T=((o=x.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),$;return T==="application/json"?$=yield x.json():T==="application/octet-stream"?$=yield x.blob():T==="text/event-stream"?$=x:T==="multipart/form-data"?$=yield x.formData():$=yield x.text(),{data:$,error:null,response:x}}catch(a){return{data:null,error:a,response:a instanceof sd||a instanceof rd?a.context:void 0}}})}}var Ie={},tr={},nr={},rr={},sr={},ir={},dp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hr=dp();const fp=hr.fetch,Td=hr.fetch.bind(hr),Od=hr.Headers,hp=hr.Request,pp=hr.Response,pr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Od,Request:hp,Response:pp,default:Td,fetch:fp},Symbol.toStringTag,{value:"Module"})),gp=Kh(pr);var ki={},id;function Nd(){if(id)return ki;id=1,Object.defineProperty(ki,"__esModule",{value:!0});class u extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return ki.default=u,ki}var od;function Rd(){if(od)return ir;od=1;var u=ir&&ir.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ir,"__esModule",{value:!0});const r=u(gp),s=u(Nd());class o{constructor(d){this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=d.headers,this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=d.shouldThrowOnError,this.signal=d.signal,this.isMaybeSingle=d.isMaybeSingle,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,f){return this.headers=Object.assign({},this.headers),this.headers[d]=f,this}then(d,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const p=this.fetch;let g=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var y,x,b;let T=null,$=null,z=null,A=v.status,X=v.statusText;if(v.ok){if(this.method!=="HEAD"){const le=await v.text();le===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?$=le:$=JSON.parse(le))}const D=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),G=(x=v.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");D&&G&&G.length>1&&(z=parseInt(G[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray($)&&($.length>1?(T={code:"PGRST116",details:`Results contain ${$.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},$=null,z=null,A=406,X="Not Acceptable"):$.length===1?$=$[0]:$=null)}else{const D=await v.text();try{T=JSON.parse(D),Array.isArray(T)&&v.status===404&&($=[],T=null,A=200,X="OK")}catch{v.status===404&&D===""?(A=204,X="No Content"):T={message:D}}if(T&&this.isMaybeSingle&&(!((b=T?.details)===null||b===void 0)&&b.includes("0 rows"))&&(T=null,A=200,X="OK"),T&&this.shouldThrowOnError)throw new s.default(T)}return{error:T,data:$,count:z,status:A,statusText:X}});return this.shouldThrowOnError||(g=g.catch(v=>{var y,x,b;return{error:{message:`${(y=v?.name)!==null&&y!==void 0?y:"FetchError"}: ${v?.message}`,details:`${(x=v?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(b=v?.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),g.then(d,f)}returns(){return this}overrideTypes(){return this}}return ir.default=o,ir}var ld;function Ld(){if(ld)return sr;ld=1;var u=sr&&sr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(sr,"__esModule",{value:!0});const r=u(Rd());class s extends r.default{select(a){let d=!1;const f=(a??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:d=!0,nullsFirst:f,foreignTable:p,referencedTable:g=p}={}){const v=g?`${g}.order`:"order",y=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${y?`${y},`:""}${a}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:d,referencedTable:f=d}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${a}`),this}range(a,d,{foreignTable:f,referencedTable:p=f}={}){const g=typeof p>"u"?"offset":`${p}.offset`,v=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${a}`),this.url.searchParams.set(v,`${d-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:d=!1,settings:f=!1,buffers:p=!1,wal:g=!1,format:v="text"}={}){var y;const x=[a?"analyze":null,d?"verbose":null,f?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),b=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${v}; for="${b}"; options=${x};`,v==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return sr.default=s,sr}var ad;function Ql(){if(ad)return rr;ad=1;var u=rr&&rr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(rr,"__esModule",{value:!0});const r=u(Ld());class s extends r.default{eq(a,d){return this.url.searchParams.append(a,`eq.${d}`),this}neq(a,d){return this.url.searchParams.append(a,`neq.${d}`),this}gt(a,d){return this.url.searchParams.append(a,`gt.${d}`),this}gte(a,d){return this.url.searchParams.append(a,`gte.${d}`),this}lt(a,d){return this.url.searchParams.append(a,`lt.${d}`),this}lte(a,d){return this.url.searchParams.append(a,`lte.${d}`),this}like(a,d){return this.url.searchParams.append(a,`like.${d}`),this}likeAllOf(a,d){return this.url.searchParams.append(a,`like(all).{${d.join(",")}}`),this}likeAnyOf(a,d){return this.url.searchParams.append(a,`like(any).{${d.join(",")}}`),this}ilike(a,d){return this.url.searchParams.append(a,`ilike.${d}`),this}ilikeAllOf(a,d){return this.url.searchParams.append(a,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(a,d){return this.url.searchParams.append(a,`ilike(any).{${d.join(",")}}`),this}is(a,d){return this.url.searchParams.append(a,`is.${d}`),this}in(a,d){const f=Array.from(new Set(d)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(a,`in.(${f})`),this}contains(a,d){return typeof d=="string"?this.url.searchParams.append(a,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(a,`cs.{${d.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(d)}`),this}containedBy(a,d){return typeof d=="string"?this.url.searchParams.append(a,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(a,`cd.{${d.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(d)}`),this}rangeGt(a,d){return this.url.searchParams.append(a,`sr.${d}`),this}rangeGte(a,d){return this.url.searchParams.append(a,`nxl.${d}`),this}rangeLt(a,d){return this.url.searchParams.append(a,`sl.${d}`),this}rangeLte(a,d){return this.url.searchParams.append(a,`nxr.${d}`),this}rangeAdjacent(a,d){return this.url.searchParams.append(a,`adj.${d}`),this}overlaps(a,d){return typeof d=="string"?this.url.searchParams.append(a,`ov.${d}`):this.url.searchParams.append(a,`ov.{${d.join(",")}}`),this}textSearch(a,d,{config:f,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const v=f===void 0?"":`(${f})`;return this.url.searchParams.append(a,`${g}fts${v}.${d}`),this}match(a){return Object.entries(a).forEach(([d,f])=>{this.url.searchParams.append(d,`eq.${f}`)}),this}not(a,d,f){return this.url.searchParams.append(a,`not.${d}.${f}`),this}or(a,{foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${a})`),this}filter(a,d,f){return this.url.searchParams.append(a,`${d}.${f}`),this}}return rr.default=s,rr}var ud;function Ad(){if(ud)return nr;ud=1;var u=nr&&nr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(nr,"__esModule",{value:!0});const r=u(Ql());class s{constructor(a,{headers:d={},schema:f,fetch:p}){this.url=a,this.headers=d,this.schema=f,this.fetch=p}select(a,{head:d=!1,count:f}={}){const p=d?"HEAD":"GET";let g=!1;const v=(a??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",v),f&&(this.headers.Prefer=`count=${f}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:d,defaultToNull:f=!0}={}){const p="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),d&&g.push(`count=${d}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(a)){const v=a.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(v.length>0){const y=[...new Set(v)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:d,ignoreDuplicates:f=!1,count:p,defaultToNull:g=!0}={}){const v="POST",y=[`resolution=${f?"ignore":"merge"}-duplicates`];if(d!==void 0&&this.url.searchParams.set("on_conflict",d),this.headers.Prefer&&y.push(this.headers.Prefer),p&&y.push(`count=${p}`),g||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(a)){const x=a.reduce((b,T)=>b.concat(Object.keys(T)),[]);if(x.length>0){const b=[...new Set(x)].map(T=>`"${T}"`);this.url.searchParams.set("columns",b.join(","))}}return new r.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:d}={}){const f="PATCH",p=[];return this.headers.Prefer&&p.push(this.headers.Prefer),d&&p.push(`count=${d}`),this.headers.Prefer=p.join(","),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const d="DELETE",f=[];return a&&f.push(`count=${a}`),this.headers.Prefer&&f.unshift(this.headers.Prefer),this.headers.Prefer=f.join(","),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return nr.default=s,nr}var ts={},ns={},cd;function mp(){return cd||(cd=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.version=void 0,ns.version="0.0.0-automated"),ns}var dd;function vp(){if(dd)return ts;dd=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.DEFAULT_HEADERS=void 0;const u=mp();return ts.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${u.version}`},ts}var fd;function yp(){if(fd)return tr;fd=1;var u=tr&&tr.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(tr,"__esModule",{value:!0});const r=u(Ad()),s=u(Ql()),o=vp();class a{constructor(f,{headers:p={},schema:g,fetch:v}={}){this.url=f,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),p),this.schemaName=g,this.fetch=v}from(f){const p=new URL(`${this.url}/${f}`);return new r.default(p,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new a(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,p={},{head:g=!1,get:v=!1,count:y}={}){let x;const b=new URL(`${this.url}/rpc/${f}`);let T;g||v?(x=g?"HEAD":"GET",Object.entries(p).filter(([z,A])=>A!==void 0).map(([z,A])=>[z,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([z,A])=>{b.searchParams.append(z,A)})):(x="POST",T=p);const $=Object.assign({},this.headers);return y&&($.Prefer=`count=${y}`),new s.default({method:x,url:b,headers:$,schema:this.schemaName,body:T,fetch:this.fetch,allowEmpty:!1})}}return tr.default=a,tr}var hd;function wp(){if(hd)return Ie;hd=1;var u=Ie&&Ie.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.PostgrestError=Ie.PostgrestBuilder=Ie.PostgrestTransformBuilder=Ie.PostgrestFilterBuilder=Ie.PostgrestQueryBuilder=Ie.PostgrestClient=void 0;const r=u(yp());Ie.PostgrestClient=r.default;const s=u(Ad());Ie.PostgrestQueryBuilder=s.default;const o=u(Ql());Ie.PostgrestFilterBuilder=o.default;const a=u(Ld());Ie.PostgrestTransformBuilder=a.default;const d=u(Rd());Ie.PostgrestBuilder=d.default;const f=u(Nd());return Ie.PostgrestError=f.default,Ie.default={PostgrestClient:r.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:d.default,PostgrestError:f.default},Ie}var _p=wp();const kp=ql(_p),{PostgrestClient:Sp,PostgrestQueryBuilder:H0,PostgrestFilterBuilder:V0,PostgrestTransformBuilder:q0,PostgrestBuilder:K0,PostgrestError:G0}=kp;class xp{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const s=parseInt(process.versions.node.split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let s=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(s+=`

Suggested solution: ${r.workaround}`),new Error(s)}static createWebSocket(r,s){const o=this.getWebSocketConstructor();return new o(r,s)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Ep="2.15.1",jp=`realtime-js/${Ep}`,Cp="1.0.0",$l=1e4,bp=1e3,Pp=100;var ss;(function(u){u[u.connecting=0]="connecting",u[u.open=1]="open",u[u.closing=2]="closing",u[u.closed=3]="closed"})(ss||(ss={}));var Oe;(function(u){u.closed="closed",u.errored="errored",u.joined="joined",u.joining="joining",u.leaving="leaving"})(Oe||(Oe={}));var xt;(function(u){u.close="phx_close",u.error="phx_error",u.join="phx_join",u.reply="phx_reply",u.leave="phx_leave",u.access_token="access_token"})(xt||(xt={}));var Ul;(function(u){u.websocket="websocket"})(Ul||(Ul={}));var Pn;(function(u){u.Connecting="connecting",u.Open="open",u.Closing="closing",u.Closed="closed"})(Pn||(Pn={}));class Tp{constructor(){this.HEADER_LENGTH=1}decode(r,s){return r.constructor===ArrayBuffer?s(this._binaryDecode(r)):s(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const s=new DataView(r),o=new TextDecoder;return this._decodeBroadcast(r,s,o)}_decodeBroadcast(r,s,o){const a=s.getUint8(1),d=s.getUint8(2);let f=this.HEADER_LENGTH+2;const p=o.decode(r.slice(f,f+a));f=f+a;const g=o.decode(r.slice(f,f+d));f=f+d;const v=JSON.parse(o.decode(r.slice(f,r.byteLength)));return{ref:null,topic:p,event:g,payload:v}}}class Id{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var me;(function(u){u.abstime="abstime",u.bool="bool",u.date="date",u.daterange="daterange",u.float4="float4",u.float8="float8",u.int2="int2",u.int4="int4",u.int4range="int4range",u.int8="int8",u.int8range="int8range",u.json="json",u.jsonb="jsonb",u.money="money",u.numeric="numeric",u.oid="oid",u.reltime="reltime",u.text="text",u.time="time",u.timestamp="timestamp",u.timestamptz="timestamptz",u.timetz="timetz",u.tsrange="tsrange",u.tstzrange="tstzrange"})(me||(me={}));const pd=(u,r,s={})=>{var o;const a=(o=s.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(r).reduce((d,f)=>(d[f]=Op(f,u,r,a),d),{})},Op=(u,r,s,o)=>{const a=r.find(p=>p.name===u),d=a?.type,f=s[u];return d&&!o.includes(d)?$d(d,f):Dl(f)},$d=(u,r)=>{if(u.charAt(0)==="_"){const s=u.slice(1,u.length);return Ap(r,s)}switch(u){case me.bool:return Np(r);case me.float4:case me.float8:case me.int2:case me.int4:case me.int8:case me.numeric:case me.oid:return Rp(r);case me.json:case me.jsonb:return Lp(r);case me.timestamp:return Ip(r);case me.abstime:case me.date:case me.daterange:case me.int4range:case me.int8range:case me.money:case me.reltime:case me.text:case me.time:case me.timestamptz:case me.timetz:case me.tsrange:case me.tstzrange:return Dl(r);default:return Dl(r)}},Dl=u=>u,Np=u=>{switch(u){case"t":return!0;case"f":return!1;default:return u}},Rp=u=>{if(typeof u=="string"){const r=parseFloat(u);if(!Number.isNaN(r))return r}return u},Lp=u=>{if(typeof u=="string")try{return JSON.parse(u)}catch(r){return console.log(`JSON parse error: ${r}`),u}return u},Ap=(u,r)=>{if(typeof u!="string")return u;const s=u.length-1,o=u[s];if(u[0]==="{"&&o==="}"){let d;const f=u.slice(1,s);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(p=>$d(r,p))}return u},Ip=u=>typeof u=="string"?u.replace(" ","T"):u,Ud=u=>{let r=u;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class Pl{constructor(r,s,o={},a=$l){this.channel=r,this.event=s,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var o;return this._hasReceived(r)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var gd;(function(u){u.SYNC="sync",u.JOIN="join",u.LEAVE="leave"})(gd||(gd={}));class is{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:d,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=is.syncState(this.state,a,d,f),this.pendingDiffs.forEach(g=>{this.state=is.syncDiff(this.state,g,d,f)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},a=>{const{onJoin:d,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=is.syncDiff(this.state,a,d,f),p())}),this.onJoin((a,d,f)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:d,newPresences:f})}),this.onLeave((a,d,f)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,o,a){const d=this.cloneDeep(r),f=this.transformState(s),p={},g={};return this.map(d,(v,y)=>{f[v]||(g[v]=y)}),this.map(f,(v,y)=>{const x=d[v];if(x){const b=y.map(A=>A.presence_ref),T=x.map(A=>A.presence_ref),$=y.filter(A=>T.indexOf(A.presence_ref)<0),z=x.filter(A=>b.indexOf(A.presence_ref)<0);$.length>0&&(p[v]=$),z.length>0&&(g[v]=z)}else p[v]=y}),this.syncDiff(d,{joins:p,leaves:g},o,a)}static syncDiff(r,s,o,a){const{joins:d,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(d,(p,g)=>{var v;const y=(v=r[p])!==null&&v!==void 0?v:[];if(r[p]=this.cloneDeep(g),y.length>0){const x=r[p].map(T=>T.presence_ref),b=y.filter(T=>x.indexOf(T.presence_ref)<0);r[p].unshift(...b)}o(p,y,g)}),this.map(f,(p,g)=>{let v=r[p];if(!v)return;const y=g.map(x=>x.presence_ref);v=v.filter(x=>y.indexOf(x.presence_ref)<0),r[p]=v,a(p,v,g),v.length===0&&delete r[p]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(o=>s(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,o)=>{const a=r[o];return"metas"in a?s[o]=a.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):s[o]=a,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var md;(function(u){u.ALL="*",u.INSERT="INSERT",u.UPDATE="UPDATE",u.DELETE="DELETE"})(md||(md={}));var os;(function(u){u.BROADCAST="broadcast",u.PRESENCE="presence",u.POSTGRES_CHANGES="postgres_changes",u.SYSTEM="system"})(os||(os={}));var zt;(function(u){u.SUBSCRIBED="SUBSCRIBED",u.TIMED_OUT="TIMED_OUT",u.CLOSED="CLOSED",u.CHANNEL_ERROR="CHANNEL_ERROR"})(zt||(zt={}));class Jl{constructor(r,s={config:{}},o){this.topic=r,this.params=s,this.socket=o,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Pl(this,xt.join,this.params,this.timeout),this.rejoinTimer=new Id(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xt.reply,{},(a,d)=>{this._trigger(this._replyEventName(d),a)}),this.presence=new is(this),this.broadcastEndpointURL=Ud(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(r,s=this.timeout){var o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Oe.closed){const{config:{broadcast:d,presence:f,private:p}}=this.params,g=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(b=>b.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[os.PRESENCE]&&this.bindings[os.PRESENCE].length>0,y={},x={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(b=>r?.(zt.CHANNEL_ERROR,b)),this._onClose(()=>r?.(zt.CLOSED)),this.updateJoinPayload(Object.assign({config:x},y)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:b})=>{var T;if(this.socket.setAuth(),b===void 0){r?.(zt.SUBSCRIBED);return}else{const $=this.bindings.postgres_changes,z=(T=$?.length)!==null&&T!==void 0?T:0,A=[];for(let X=0;X<z;X++){const J=$[X],{filter:{event:D,schema:G,table:le,filter:Z}}=J,ne=b&&b[X];if(ne&&ne.event===D&&ne.schema===G&&ne.table===le&&ne.filter===Z)A.push(Object.assign(Object.assign({},J),{id:ne.id}));else{this.unsubscribe(),this.state=Oe.errored,r?.(zt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,r&&r(zt.SUBSCRIBED);return}}).receive("error",b=>{this.state=Oe.errored,r?.(zt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{r?.(zt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,o){return this.state===Oe.joined&&r===os.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,s,o)}async send(r,s={}){var o,a;if(!this._canPush()&&r.type==="broadcast"){const{event:d,payload:f}=r,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=v.body)===null||a===void 0?void 0:a.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,p,g;const v=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),v.receive("ok",()=>d("ok")),v.receive("error",()=>d("error")),v.receive("timeout",()=>d("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Oe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new Pl(this,xt.leave,{},r),o.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Oe.closed,this.bindings={}}async _fetchWithTimeout(r,s,o){const a=new AbortController,d=setTimeout(()=>a.abort(),o),f=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(d),f}_push(r,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Pl(this,r,s,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Pp){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(r,s,o){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,o){var a,d;const f=r.toLocaleLowerCase(),{close:p,error:g,leave:v,join:y}=xt;if(o&&[p,g,v,y].indexOf(f)>=0&&o!==this._joinRef())return;let b=this._onMessage(f,s,o);if(s&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(T=>{var $,z,A;return(($=T.filter)===null||$===void 0?void 0:$.event)==="*"||((A=(z=T.filter)===null||z===void 0?void 0:z.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===f}).map(T=>T.callback(b,o)):(d=this.bindings[f])===null||d===void 0||d.filter(T=>{var $,z,A,X,J,D;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in T){const G=T.id,le=($=T.filter)===null||$===void 0?void 0:$.event;return G&&((z=s.ids)===null||z===void 0?void 0:z.includes(G))&&(le==="*"||le?.toLocaleLowerCase()===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const G=(J=(X=T?.filter)===null||X===void 0?void 0:X.event)===null||J===void 0?void 0:J.toLocaleLowerCase();return G==="*"||G===((D=s?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===f}).map(T=>{if(typeof b=="object"&&"ids"in b){const $=b.data,{schema:z,table:A,commit_timestamp:X,type:J,errors:D}=$;b=Object.assign(Object.assign({},{schema:z,table:A,commit_timestamp:X,eventType:J,new:{},old:{},errors:D}),this._getPayloadRecords($))}T.callback(b,o)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,o){const a=r.toLocaleLowerCase(),d={type:a,filter:s,callback:o};return this.bindings[a]?this.bindings[a].push(d):this.bindings[a]=[d],this}_off(r,s){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var d;return!(((d=a.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===o&&Jl.isEqual(a.filter,s))})),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const o in r)if(r[o]!==s[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(xt.close,{},r)}_onError(r){this._on(xt.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=pd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=pd(r.columns,r.old_record)),s}}const vd=()=>{},Si={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$p=[1e3,2e3,5e3,1e4],Up=1e4,Dp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Mp{constructor(r,s){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$l,this.transport=null,this.heartbeatIntervalMs=Si.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vd,this.ref=0,this.reconnectTimer=null,this.logger=vd,this.conn=null,this.sendBuffer=[],this.serializer=new Tp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let d;return a?d=a:typeof fetch>"u"?d=(...f)=>as(async()=>{const{default:p}=await Promise.resolve().then(()=>pr);return{default:p}},void 0).then(({default:p})=>p(...f)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...f)=>d(...f)},!(!((o=s?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${r}/${Ul.websocket}`,this.httpEndpoint=Ud(r),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xp.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const s=r.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Cp}))}disconnect(r,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},r?this.conn.close(r,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,o){this.logger(r,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case ss.connecting:return Pn.Connecting;case ss.open:return Pn.Open;case ss.closing:return Pn.Closing;default:return Pn.Closed}}isConnected(){return this.connectionState()===Pn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,s={config:{}}){const o=`realtime:${r}`,a=this.getChannels().find(d=>d.topic===o);if(a)return a;{const d=new Jl(`realtime:${r}`,s,this);return this.channels.push(d),d}}push(r){const{topic:s,event:o,payload:a,ref:d}=r,f=()=>{this.encode(r,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${s} ${o} (${d})`,a),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(bp,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Si.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,s=>{s.topic==="phoenix"&&s.event==="phx_reply"&&this.heartbeatCallback(s.payload.status==="ok"?"ok":"error"),s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:a,payload:d,ref:f}=s,p=f?`(${f})`:"",g=d.status||"";this.log("receive",`${g} ${o} ${a} ${p}`.trim(),d),this.channels.filter(v=>v._isMember(o)).forEach(v=>v._trigger(a,d,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(r){var s;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var s;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(xt.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const o=r.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${r}${o}${a}`}_workerObjectUrl(r){let s;if(r)s=r;else{const o=new Blob([Dp],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}_setConnectionState(r,s=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(r=null){let s;r?s=r:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const a={access_token:s,version:jp};s&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(xt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${r}`,s)})}_triggerStateCallbacks(r,s){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(s)}catch(a){this.log("error",`error in ${r} callback`,a)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Id(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Si.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var s,o,a,d,f,p,g,v;if(this.transport=(s=r?.transport)!==null&&s!==void 0?s:null,this.timeout=(o=r?.timeout)!==null&&o!==void 0?o:$l,this.heartbeatIntervalMs=(a=r?.heartbeatIntervalMs)!==null&&a!==void 0?a:Si.HEARTBEAT_INTERVAL,this.worker=(d=r?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=r?.accessToken)!==null&&f!==void 0?f:null,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=r?.reconnectAfterMs)!==null&&p!==void 0?p:(y=>$p[y-1]||Up),this.encode=(g=r?.encode)!==null&&g!==void 0?g:((y,x)=>x(JSON.stringify(y))),this.decode=(v=r?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class Yl extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Ne(u){return typeof u=="object"&&u!==null&&"__isStorageError"in u}class zp extends Yl{constructor(r,s,o){super(r),this.name="StorageApiError",this.status=s,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ml extends Yl{constructor(r,s){super(r),this.name="StorageUnknownError",this.originalError=s}}var Fp=function(u,r,s,o){function a(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function p(y){try{v(o.next(y))}catch(x){f(x)}}function g(y){try{v(o.throw(y))}catch(x){f(x)}}function v(y){y.done?d(y.value):a(y.value).then(p,g)}v((o=o.apply(u,r||[])).next())})};const Dd=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...s)=>as(async()=>{const{default:o}=await Promise.resolve().then(()=>pr);return{default:o}},void 0).then(({default:o})=>o(...s)):r=fetch,(...s)=>r(...s)},Bp=()=>Fp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield as(()=>Promise.resolve().then(()=>pr),void 0)).Response:Response}),zl=u=>{if(Array.isArray(u))return u.map(s=>zl(s));if(typeof u=="function"||u!==Object(u))return u;const r={};return Object.entries(u).forEach(([s,o])=>{const a=s.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));r[a]=zl(o)}),r},Wp=u=>{if(typeof u!="object"||u===null)return!1;const r=Object.getPrototypeOf(u);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)};var Tn=function(u,r,s,o){function a(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function p(y){try{v(o.next(y))}catch(x){f(x)}}function g(y){try{v(o.throw(y))}catch(x){f(x)}}function v(y){y.done?d(y.value):a(y.value).then(p,g)}v((o=o.apply(u,r||[])).next())})};const Tl=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),Hp=(u,r,s)=>Tn(void 0,void 0,void 0,function*(){const o=yield Bp();u instanceof o&&!s?.noResolveJson?u.json().then(a=>{const d=u.status||500,f=a?.statusCode||d+"";r(new zp(Tl(a),d,f))}).catch(a=>{r(new Ml(Tl(a),a))}):r(new Ml(Tl(u),u))}),Vp=(u,r,s,o)=>{const a={method:u,headers:r?.headers||{}};return u==="GET"||!o?a:(Wp(o)?(a.headers=Object.assign({"Content-Type":"application/json"},r?.headers),a.body=JSON.stringify(o)):a.body=o,r?.duplex&&(a.duplex=r.duplex),Object.assign(Object.assign({},a),s))};function us(u,r,s,o,a,d){return Tn(this,void 0,void 0,function*(){return new Promise((f,p)=>{u(s,Vp(r,o,a,d)).then(g=>{if(!g.ok)throw g;return o?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>Hp(g,p,o))})})}function Ci(u,r,s,o){return Tn(this,void 0,void 0,function*(){return us(u,"GET",r,s,o)})}function Tt(u,r,s,o,a){return Tn(this,void 0,void 0,function*(){return us(u,"POST",r,o,a,s)})}function Fl(u,r,s,o,a){return Tn(this,void 0,void 0,function*(){return us(u,"PUT",r,o,a,s)})}function qp(u,r,s,o){return Tn(this,void 0,void 0,function*(){return us(u,"HEAD",r,Object.assign(Object.assign({},s),{noResolveJson:!0}),o)})}function Md(u,r,s,o,a){return Tn(this,void 0,void 0,function*(){return us(u,"DELETE",r,o,a,s)})}var qe=function(u,r,s,o){function a(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function p(y){try{v(o.next(y))}catch(x){f(x)}}function g(y){try{v(o.throw(y))}catch(x){f(x)}}function v(y){y.done?d(y.value):a(y.value).then(p,g)}v((o=o.apply(u,r||[])).next())})};const Kp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Gp{constructor(r,s={},o,a){this.url=r,this.headers=s,this.bucketId=o,this.fetch=Dd(a)}uploadOrUpdate(r,s,o,a){return qe(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},yd),a);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&o instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",this.encodeMetadata(g)),d.append("",o)):typeof FormData<"u"&&o instanceof FormData?(d=o,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",this.encodeMetadata(g))):(d=o,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),a?.headers&&(p=Object.assign(Object.assign({},p),a.headers));const v=this._removeEmptyFolders(s),y=this._getFinalPath(v),x=yield(r=="PUT"?Fl:Tt)(this.fetch,`${this.url}/object/${y}`,d,Object.assign({headers:p},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:v,id:x.Id,fullPath:x.Key},error:null}}catch(d){if(Ne(d))return{data:null,error:d};throw d}})}upload(r,s,o){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,s,o)})}uploadToSignedUrl(r,s,o,a){return qe(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",s);try{let g;const v=Object.assign({upsert:yd.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",v.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",v.cacheControl)):(g=o,y["cache-control"]=`max-age=${v.cacheControl}`,y["content-type"]=v.contentType);const x=yield Fl(this.fetch,p.toString(),g,{headers:y});return{data:{path:d,fullPath:x.Key},error:null}}catch(g){if(Ne(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(r,s){return qe(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const a=Object.assign({},this.headers);s?.upsert&&(a["x-upsert"]="true");const d=yield Tt(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:a}),f=new URL(this.url+d.url),p=f.searchParams.get("token");if(!p)throw new Yl("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:p},error:null}}catch(o){if(Ne(o))return{data:null,error:o};throw o}})}update(r,s,o){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,s,o)})}move(r,s,o){return qe(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Ne(a))return{data:null,error:a};throw a}})}copy(r,s,o){return qe(this,void 0,void 0,function*(){try{return{data:{path:(yield Tt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Ne(a))return{data:null,error:a};throw a}})}createSignedUrl(r,s,o){return qe(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r),d=yield Tt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o?.download?`&download=${o.download===!0?"":o.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(a){if(Ne(a))return{data:null,error:a};throw a}})}createSignedUrls(r,s,o){return qe(this,void 0,void 0,function*(){try{const a=yield Tt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:r},{headers:this.headers}),d=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:a.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(a){if(Ne(a))return{data:null,error:a};throw a}})}download(r,s){return qe(this,void 0,void 0,function*(){const a=typeof s?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(s?.transform||{}),f=d?`?${d}`:"";try{const p=this._getFinalPath(r);return{data:yield(yield Ci(this.fetch,`${this.url}/${a}/${p}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(Ne(p))return{data:null,error:p};throw p}})}info(r){return qe(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{const o=yield Ci(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:zl(o),error:null}}catch(o){if(Ne(o))return{data:null,error:o};throw o}})}exists(r){return qe(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{return yield qp(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(Ne(o)&&o instanceof Ml){const a=o.originalError;if([400,404].includes(a?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,s){const o=this._getFinalPath(r),a=[],d=s?.download?`download=${s.download===!0?"":s.download}`:"";d!==""&&a.push(d);const p=typeof s?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(s?.transform||{});g!==""&&a.push(g);let v=a.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${v}`)}}}remove(r){return qe(this,void 0,void 0,function*(){try{return{data:yield Md(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}list(r,s,o){return qe(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Kp),s),{prefix:r||""});return{data:yield Tt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},o),error:null}}catch(a){if(Ne(a))return{data:null,error:a};throw a}})}listV2(r,s){return qe(this,void 0,void 0,function*(){try{const o=Object.assign({},r);return{data:yield Tt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(Ne(o))return{data:null,error:o};throw o}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const s=[];return r.width&&s.push(`width=${r.width}`),r.height&&s.push(`height=${r.height}`),r.resize&&s.push(`resize=${r.resize}`),r.format&&s.push(`format=${r.format}`),r.quality&&s.push(`quality=${r.quality}`),s.join("&")}}const Qp="2.11.0",Jp={"X-Client-Info":`storage-js/${Qp}`};var or=function(u,r,s,o){function a(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function p(y){try{v(o.next(y))}catch(x){f(x)}}function g(y){try{v(o.throw(y))}catch(x){f(x)}}function v(y){y.done?d(y.value):a(y.value).then(p,g)}v((o=o.apply(u,r||[])).next())})};class Yp{constructor(r,s={},o,a){const d=new URL(r);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},Jp),s),this.fetch=Dd(o)}listBuckets(){return or(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}})}getBucket(r){return or(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}createBucket(r,s={public:!1}){return or(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Ne(o))return{data:null,error:o};throw o}})}updateBucket(r,s){return or(this,void 0,void 0,function*(){try{return{data:yield Fl(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Ne(o))return{data:null,error:o};throw o}})}emptyBucket(r){return or(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}deleteBucket(r){return or(this,void 0,void 0,function*(){try{return{data:yield Md(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}}class Xp extends Yp{constructor(r,s={},o,a){super(r,s,o,a)}from(r){return new Gp(this.url,this.headers,r,this.fetch)}}const Zp="2.55.0";let rs="";typeof Deno<"u"?rs="deno":typeof document<"u"?rs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rs="react-native":rs="node";const eg={"X-Client-Info":`supabase-js-${rs}/${Zp}`},tg={headers:eg},ng={schema:"public"},rg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sg={};var ig=function(u,r,s,o){function a(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function p(y){try{v(o.next(y))}catch(x){f(x)}}function g(y){try{v(o.throw(y))}catch(x){f(x)}}function v(y){y.done?d(y.value):a(y.value).then(p,g)}v((o=o.apply(u,r||[])).next())})};const og=u=>{let r;return u?r=u:typeof fetch>"u"?r=Td:r=fetch,(...s)=>r(...s)},lg=()=>typeof Headers>"u"?Od:Headers,ag=(u,r,s)=>{const o=og(s),a=lg();return(d,f)=>ig(void 0,void 0,void 0,function*(){var p;const g=(p=yield r())!==null&&p!==void 0?p:u;let v=new a(f?.headers);return v.has("apikey")||v.set("apikey",u),v.has("Authorization")||v.set("Authorization",`Bearer ${g}`),o(d,Object.assign(Object.assign({},f),{headers:v}))})};var ug=function(u,r,s,o){function a(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function p(y){try{v(o.next(y))}catch(x){f(x)}}function g(y){try{v(o.throw(y))}catch(x){f(x)}}function v(y){y.done?d(y.value):a(y.value).then(p,g)}v((o=o.apply(u,r||[])).next())})};function cg(u){return u.endsWith("/")?u:u+"/"}function dg(u,r){var s,o;const{db:a,auth:d,realtime:f,global:p}=u,{db:g,auth:v,realtime:y,global:x}=r,b={db:Object.assign(Object.assign({},g),a),auth:Object.assign(Object.assign({},v),d),realtime:Object.assign(Object.assign({},y),f),storage:{},global:Object.assign(Object.assign(Object.assign({},x),p),{headers:Object.assign(Object.assign({},(s=x?.headers)!==null&&s!==void 0?s:{}),(o=p?.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>ug(this,void 0,void 0,function*(){return""})};return u.accessToken?b.accessToken=u.accessToken:delete b.accessToken,b}const zd="2.71.1",dr=30*1e3,Bl=3,Ol=Bl*dr,fg="http://localhost:9999",hg="supabase.auth.token",pg={"X-Client-Info":`gotrue-js/${zd}`},Wl="X-Supabase-Api-Version",Fd={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mg=600*1e3;class Xl extends Error{constructor(r,s,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function Y(u){return typeof u=="object"&&u!==null&&"__isAuthError"in u}class vg extends Xl{constructor(r,s,o){super(r,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function yg(u){return Y(u)&&u.name==="AuthApiError"}class Bd extends Xl{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class dn extends Xl{constructor(r,s,o,a){super(r,o,a),this.name=s,this.status=o}}class un extends dn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wg(u){return Y(u)&&u.name==="AuthSessionMissingError"}class xi extends dn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ei extends dn{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class ji extends dn{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _g(u){return Y(u)&&u.name==="AuthImplicitGrantRedirectError"}class wd extends dn{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hl extends dn{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function Nl(u){return Y(u)&&u.name==="AuthRetryableFetchError"}class _d extends dn{constructor(r,s,o){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class Vl extends dn{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const bi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kd=` 	
\r=`.split(""),kg=(()=>{const u=new Array(128);for(let r=0;r<u.length;r+=1)u[r]=-1;for(let r=0;r<kd.length;r+=1)u[kd[r].charCodeAt(0)]=-2;for(let r=0;r<bi.length;r+=1)u[bi[r].charCodeAt(0)]=r;return u})();function Sd(u,r,s){if(u!==null)for(r.queue=r.queue<<8|u,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;s(bi[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;s(bi[o]),r.queuedBits-=6}}function Wd(u,r,s){const o=kg[u];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(u)}"`)}}function xd(u){const r=[],s=f=>{r.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},d=f=>{Eg(f,o,s)};for(let f=0;f<u.length;f+=1)Wd(u.charCodeAt(f),a,d);return r.join("")}function Sg(u,r){if(u<=127){r(u);return}else if(u<=2047){r(192|u>>6),r(128|u&63);return}else if(u<=65535){r(224|u>>12),r(128|u>>6&63),r(128|u&63);return}else if(u<=1114111){r(240|u>>18),r(128|u>>12&63),r(128|u>>6&63),r(128|u&63);return}throw new Error(`Unrecognized Unicode codepoint: ${u.toString(16)}`)}function xg(u,r){for(let s=0;s<u.length;s+=1){let o=u.charCodeAt(s);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(u.charCodeAt(s+1)-56320&65535|a)+65536,s+=1}Sg(o,r)}}function Eg(u,r,s){if(r.utf8seq===0){if(u<=127){s(u);return}for(let o=1;o<6;o+=1)if((u>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=u&31;else if(r.utf8seq===3)r.codepoint=u&15;else if(r.utf8seq===4)r.codepoint=u&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(u<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|u&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function jg(u){const r=[],s={queue:0,queuedBits:0},o=a=>{r.push(a)};for(let a=0;a<u.length;a+=1)Wd(u.charCodeAt(a),s,o);return new Uint8Array(r)}function Cg(u){const r=[];return xg(u,s=>r.push(s)),new Uint8Array(r)}function bg(u){const r=[],s={queue:0,queuedBits:0},o=a=>{r.push(a)};return u.forEach(a=>Sd(a,s,o)),Sd(null,s,o),r.join("")}function Pg(u){return Math.round(Date.now()/1e3)+u}function Tg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){const r=Math.random()*16|0;return(u=="x"?r:r&3|8).toString(16)})}const St=()=>typeof window<"u"&&typeof document<"u",jn={tested:!1,writable:!1},Hd=()=>{if(!St())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jn.tested)return jn.writable;const u=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(u,u),globalThis.localStorage.removeItem(u),jn.tested=!0,jn.writable=!0}catch{jn.tested=!0,jn.writable=!1}return jn.writable};function Og(u){const r={},s=new URL(u);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,d)=>{r[d]=a})}catch{}return s.searchParams.forEach((o,a)=>{r[a]=o}),r}const Vd=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...s)=>as(async()=>{const{default:o}=await Promise.resolve().then(()=>pr);return{default:o}},void 0).then(({default:o})=>o(...s)):r=fetch,(...s)=>r(...s)},Ng=u=>typeof u=="object"&&u!==null&&"status"in u&&"ok"in u&&"json"in u&&typeof u.json=="function",fr=async(u,r,s)=>{await u.setItem(r,JSON.stringify(s))},Cn=async(u,r)=>{const s=await u.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},an=async(u,r)=>{await u.removeItem(r)};class Pi{constructor(){this.promise=new Pi.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}Pi.promiseConstructor=Promise;function Rl(u){const r=u.split(".");if(r.length!==3)throw new Vl("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!gg.test(r[o]))throw new Vl("JWT not in base64url format");return{header:JSON.parse(xd(r[0])),payload:JSON.parse(xd(r[1])),signature:jg(r[2]),raw:{header:r[0],payload:r[1]}}}async function Rg(u){return await new Promise(r=>{setTimeout(()=>r(null),u)})}function Lg(u,r){return new Promise((o,a)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await u(d);if(!r(d,null,f)){o(f);return}}catch(f){if(!r(d,f)){a(f);return}}})()})}function Ag(u){return("0"+u.toString(16)).substr(-2)}function Ig(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let a="";for(let d=0;d<56;d++)a+=s.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(r),Array.from(r,Ag).join("")}async function $g(u){const s=new TextEncoder().encode(u),o=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(o);return Array.from(a).map(d=>String.fromCharCode(d)).join("")}async function Ug(u){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),u;const s=await $g(u);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lr(u,r,s=!1){const o=Ig();let a=o;s&&(a+="/PASSWORD_RECOVERY"),await fr(u,`${r}-code-verifier`,a);const d=await Ug(o);return[d,o===d?"plain":"s256"]}const Dg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Mg(u){const r=u.headers.get(Wl);if(!r||!r.match(Dg))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function zg(u){if(!u)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(u<=r)throw new Error("JWT has expired")}function Fg(u){switch(u){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Bg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ar(u){if(!Bg.test(u))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ll(){const u={};return new Proxy(u,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ed(u){return JSON.parse(JSON.stringify(u))}var Wg=function(u,r){var s={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&r.indexOf(o)<0&&(s[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)r.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(s[o[a]]=u[o[a]]);return s};const bn=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),Hg=[502,503,504];async function jd(u){var r;if(!Ng(u))throw new Hl(bn(u),0);if(Hg.includes(u.status))throw new Hl(bn(u),u.status);let s;try{s=await u.json()}catch(d){throw new Bd(bn(d),d)}let o;const a=Mg(u);if(a&&a.getTime()>=Fd["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new _d(bn(s),u.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new un}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new _d(bn(s),u.status,s.weak_password.reasons);throw new vg(bn(s),u.status||500,o)}const Vg=(u,r,s,o)=>{const a={method:u,headers:r?.headers||{}};return u==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),s))};async function ie(u,r,s,o){var a;const d=Object.assign({},o?.headers);d[Wl]||(d[Wl]=Fd["2024-01-01"].name),o?.jwt&&(d.Authorization=`Bearer ${o.jwt}`);const f=(a=o?.query)!==null&&a!==void 0?a:{};o?.redirectTo&&(f.redirect_to=o.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await qg(u,r,s+p,{headers:d,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(g):{data:Object.assign({},g),error:null}}async function qg(u,r,s,o,a,d){const f=Vg(r,o,a,d);let p;try{p=await u(s,Object.assign({},f))}catch(g){throw console.error(g),new Hl(bn(g),0)}if(p.ok||await jd(p),o?.noResolveJson)return p;try{return await p.json()}catch(g){await jd(g)}}function Mt(u){var r;let s=null;Jg(u)&&(s=Object.assign({},u),u.expires_at||(s.expires_at=Pg(u.expires_in)));const o=(r=u.user)!==null&&r!==void 0?r:u;return{data:{session:s,user:o},error:null}}function Cd(u){const r=Mt(u);return!r.error&&u.weak_password&&typeof u.weak_password=="object"&&Array.isArray(u.weak_password.reasons)&&u.weak_password.reasons.length&&u.weak_password.message&&typeof u.weak_password.message=="string"&&u.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(r.data.weak_password=u.weak_password),r}function cn(u){var r;return{data:{user:(r=u.user)!==null&&r!==void 0?r:u},error:null}}function Kg(u){return{data:u,error:null}}function Gg(u){const{action_link:r,email_otp:s,hashed_token:o,redirect_to:a,verification_type:d}=u,f=Wg(u,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:s,hashed_token:o,redirect_to:a,verification_type:d},g=Object.assign({},f);return{data:{properties:p,user:g},error:null}}function Qg(u){return u}function Jg(u){return u.access_token&&u.refresh_token&&u.expires_in}const Al=["global","local","others"];var Yg=function(u,r){var s={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&r.indexOf(o)<0&&(s[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)r.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(s[o[a]]=u[o[a]]);return s};class Xg{constructor({url:r="",headers:s={},fetch:o}){this.url=r,this.headers=s,this.fetch=Vd(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,s=Al[0]){if(Al.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Al.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Y(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,s={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:cn})}catch(o){if(Y(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:s}=r,o=Yg(r,["options"]),a=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(a.new_email=o?.newEmail,delete a.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Gg,redirectTo:s?.redirectTo})}catch(s){if(Y(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:cn})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,o,a,d,f,p,g;try{const v={nextPage:null,lastPage:0,total:0},y=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=r?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(d=(a=r?.perPage)===null||a===void 0?void 0:a.toString())!==null&&d!==void 0?d:""},xform:Qg});if(y.error)throw y.error;const x=await y.json(),b=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,T=(g=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return T.length>0&&(T.forEach($=>{const z=parseInt($.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse($.split(";")[1].split("=")[1]);v[`${A}Page`]=z}),v.total=parseInt(b)),{data:Object.assign(Object.assign({},x),v),error:null}}catch(v){if(Y(v))return{data:{users:[]},error:v};throw v}}async getUserById(r){ar(r);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:cn})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){ar(r);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:cn})}catch(o){if(Y(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,s=!1){ar(r);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:cn})}catch(o){if(Y(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){ar(r.userId);try{const{data:s,error:o}=await ie(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:o}}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _deleteFactor(r){ar(r.userId),ar(r.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}}}function bd(u={}){return{getItem:r=>u[r]||null,setItem:(r,s)=>{u[r]=s},removeItem:r=>{delete u[r]}}}function Zg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ur={debug:!!(globalThis&&Hd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qd extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class e0 extends qd{}async function t0(u,r,s){ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",u,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),ur.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",u)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(u,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",u,a.name);try{return await s()}finally{ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",u,a.name)}}else{if(r===0)throw ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",u),new e0(`Acquiring an exclusive Navigator LockManager lock "${u}" immediately failed`);if(ur.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Zg();const n0={url:fg,storageKey:hg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pd(u,r,s){return await s()}const cr={};class ls{constructor(r){var s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ls.nextInstanceID,ls.nextInstanceID+=1,this.instanceID>0&&St()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},n0),r);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Xg({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Vd(a.fetch),this.lock=a.lock||Pd,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:St()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=t0:this.lock=Pd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Hd()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bd(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=bd(this.memoryStorage)),St()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var r,s;return(s=(r=cr[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){cr[this.storageKey]=Object.assign(Object.assign({},cr[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=cr[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){cr[this.storageKey]=Object.assign(Object.assign({},cr[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zd}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const s=Og(window.location.href);let o="none";if(this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce"),St()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:d}=await this._getSessionFromURL(s,o);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),_g(d)){const g=(r=d.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:p}=a;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Y(s)?{error:s}:{error:new Bd("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,o,a;try{const d=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=r?.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=r?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Mt}),{data:f,error:p}=d;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(d){if(Y(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(r){var s,o,a;try{let d;if("email"in r){const{email:y,password:x,options:b}=r;let T=null,$=null;this.flowType==="pkce"&&([T,$]=await lr(this.storage,this.storageKey)),d=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:y,password:x,data:(s=b?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:T,code_challenge_method:$},xform:Mt})}else if("phone"in r){const{phone:y,password:x,options:b}=r;d=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(o=b?.data)!==null&&o!==void 0?o:{},channel:(a=b?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Mt})}else throw new Ei("You must provide either an email or phone number and a password");const{data:f,error:p}=d;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(d){if(Y(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(r){try{let s;if("email"in r){const{email:d,password:f,options:p}=r;s=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Cd})}else if("phone"in r){const{phone:d,password:f,options:p}=r;s=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Cd})}else throw new Ei("You must provide either an email or phone number and a password");const{data:o,error:a}=s;return a?{data:{user:null,session:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new xi}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(r){var s,o,a,d;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=r.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(d=r.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;if(s==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(r){var s,o,a,d,f,p,g,v,y,x,b,T;let $,z;if("message"in r)$=r.message,z=r.signature;else{const{chain:A,wallet:X,statement:J,options:D}=r;let G;if(St())if(typeof X=="object")G=X;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))G=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof X!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=X}const le=new URL((s=D?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in G&&G.signIn){const Z=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:le.host,uri:le.href}),J?{statement:J}:null));let ne;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")ne=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)ne=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)$=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),z=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");$=[`${le.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...J?["",J,""]:[""],"Version: 1",`URI: ${le.href}`,`Issued At: ${(a=(o=D?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((d=D?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((f=D?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((p=D?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((g=D?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((v=D?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((x=(y=D?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||x===void 0)&&x.length?["Resources",...D.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);const Z=await G.signMessage(new TextEncoder().encode($),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");z=Z}}try{const{data:A,error:X}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:$,signature:bg(z)},!((b=r.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(T=r.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Mt});if(X)throw X;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new xi}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:X})}catch(A){if(Y(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(r){const s=await Cn(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(s??"").split("/");try{const{data:d,error:f}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Mt});if(await an(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new xi}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:a??null}),error:f})}catch(d){if(Y(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(r){try{const{options:s,provider:o,token:a,access_token:d,nonce:f}=r,p=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Mt}),{data:g,error:v}=p;return v?{data:{user:null,session:null},error:v}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new xi}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:v})}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(r){var s,o,a,d,f;try{if("email"in r){const{email:p,options:g}=r;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await lr(this.storage,this.storageKey));const{error:x}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(o=g?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:y},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in r){const{phone:p,options:g}=r,{data:v,error:y}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(a=g?.data)!==null&&a!==void 0?a:{},create_user:(d=g?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:v?.message_id},error:y}}throw new Ei("You must provide either an email or phone number.")}catch(p){if(Y(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(r){var s,o;try{let a,d;"options"in r&&(a=(s=r.options)===null||s===void 0?void 0:s.redirectTo,d=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:p}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:d}}),redirectTo:a,xform:Mt});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,v=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(r){var s,o,a;try{let d=null,f=null;return this.flowType==="pkce"&&([d,f]=await lr(this.storage,this.storageKey)),await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=r?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:Kg})}catch(d){if(Y(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)throw o;if(!s)throw new un;const{error:a}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:o,type:a,options:d}=r,{error:f}=await ie(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in r){const{phone:o,type:a,options:d}=r,{data:f,error:p}=await ie(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:f?.message_id},error:p}}throw new Ei("You must provide either an email or phone number and a type")}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await Cn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<Ol:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const f=await Cn(this.userStorage,this.storageKey+"-user");f?.user?r.user=f.user:r.user=Ll()}if(this.storage.isServer&&r.user){let f=this.suppressGetSessionWarning;r=new Proxy(r,{get:(g,v,y)=>(!f&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,v,y))})}return{data:{session:r},error:null}}const{session:a,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{session:null},error:d}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:cn}):await this._useSession(async s=>{var o,a,d;const{data:f,error:p}=s;if(p)throw p;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new un}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(a=f.session)===null||a===void 0?void 0:a.access_token)!==null&&d!==void 0?d:void 0,xform:cn})})}catch(s){if(Y(s))return wg(s)&&(await this._removeSession(),await an(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async o=>{const{data:a,error:d}=o;if(d)throw d;if(!a.session)throw new un;const f=a.session;let p=null,g=null;this.flowType==="pkce"&&r.email!=null&&([p,g]=await lr(this.storage,this.storageKey));const{data:v,error:y}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:g}),jwt:f.access_token,xform:cn});if(y)throw y;return f.user=v.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(o){if(Y(o))return{data:{user:null},error:o};throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new un;const s=Date.now()/1e3;let o=s,a=!0,d=null;const{payload:f}=Rl(r.access_token);if(f.exp&&(o=f.exp,a=o<=s),a){const{session:p,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!p)return{data:{user:null,session:null},error:null};d=p}else{const{data:p,error:g}=await this._getUser(r.access_token);if(g)throw g;d={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(s){if(Y(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var o;if(!r){const{data:f,error:p}=s;if(p)throw p;r=(o=f.session)!==null&&o!==void 0?o:void 0}if(!r?.refresh_token)throw new un;const{session:a,error:d}=await this._callRefreshToken(r.refresh_token);return d?{data:{user:null,session:null},error:d}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(r,s){try{if(!St())throw new ji("No browser detected.");if(r.error||r.error_description||r.error_code)throw new ji(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new wd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ji("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new wd("No code detected.");const{data:J,error:D}=await this._exchangeCodeForSession(r.code);if(D)throw D;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:J.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:d,refresh_token:f,expires_in:p,expires_at:g,token_type:v}=r;if(!d||!p||!f||!v)throw new ji("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(p);let b=y+x;g&&(b=parseInt(g));const T=b-y;T*1e3<=dr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${x}s`);const $=b-x;y-$>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",$,b,y):y-$<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",$,b,y);const{data:z,error:A}=await this._getUser(d);if(A)throw A;const X={provider_token:o,provider_refresh_token:a,access_token:d,expires_in:x,expires_at:b,refresh_token:f,token_type:v,user:z.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:X,redirectType:r.type},error:null}}catch(o){if(Y(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await Cn(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:a,error:d}=s;if(d)return{error:d};const f=(o=a.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:p}=await this.admin.signOut(f,r);if(p&&!(yg(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return r!=="others"&&(await this._removeSession(),await an(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const s=Tg(),o={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async s=>{var o,a;try{const{data:{session:d},error:f}=s;if(f)throw f;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",r,"session",d)}catch(d){await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",d),console.error(d)}})}async resetPasswordForEmail(r,s={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await lr(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(d){if(Y(d))return{data:null,error:d};throw d}}async getUserIdentities(){var r;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}}async linkIdentity(r){var s;try{const{data:o,error:a}=await this._useSession(async d=>{var f,p,g,v,y;const{data:x,error:b}=d;if(b)throw b;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(f=r.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",T,{headers:this.headers,jwt:(y=(v=x.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return St()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:r.provider,url:o?.url},error:null}}catch(o){if(Y(o))return{data:{provider:r.provider,url:null},error:o};throw o}}async unlinkIdentity(r){try{return await this._useSession(async s=>{var o,a;const{data:d,error:f}=s;if(f)throw f;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(a=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await Lg(async a=>(a>0&&await Rg(200*Math.pow(2,a-1)),this._debug(s,"refreshing attempt",a),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Mt})),(a,d)=>{const f=200*Math.pow(2,a);return d&&Nl(d)&&Date.now()+f-o<dr})}catch(o){if(this._debug(s,"error",o),Y(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",o),St()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await Cn(this.storage,this.storageKey);if(a&&this.userStorage){let f=await Cn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:a.user},await fr(this.userStorage,this.storageKey+"-user",f)),a.user=(r=f?.user)!==null&&r!==void 0?r:Ll()}else if(a&&!a.user&&!a.user){const f=await Cn(this.storage,this.storageKey+"-user");f&&f?.user?(a.user=f.user,await an(this.storage,this.storageKey+"-user"),await fr(this.storage,this.storageKey,a)):a.user=Ll()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const d=((s=a.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ol;if(this._debug(o,`session has${d?"":" not"} expired with margin of ${Ol}s`),d){if(this.autoRefreshToken&&a.refresh_token){const{error:f}=await this._callRefreshToken(a.refresh_token);f&&(console.error(f),Nl(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(a.access_token);!p&&f?.user?(a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var s,o;if(!r)throw new un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Pi;const{data:d,error:f}=await this._refreshAccessToken(r);if(f)throw f;if(!d.session)throw new un;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const p={session:d.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(d){if(this._debug(a,"error",d),Y(d)){const f={session:null,error:d};return Nl(d)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(d),d}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(r,s,o=!0){const a=`#_notifyAllSubscribers(${r})`;this._debug(a,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:s});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,s)}catch(g){d.push(g)}});if(await Promise.all(f),d.length>0){for(let p=0;p<d.length;p+=1)console.error(d[p]);throw d[0]}}finally{this._debug(a,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const s=Object.assign({},r),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await fr(this.userStorage,this.storageKey+"-user",{user:s.user});const a=Object.assign({},s);delete a.user;const d=Ed(a);await fr(this.storage,this.storageKey,d)}else{const a=Ed(s);await fr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await an(this.storage,this.storageKey),await an(this.storage,this.storageKey+"-code-verifier"),await an(this.storage,this.storageKey+"-user"),this.userStorage&&await an(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&St()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),dr);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-r)/dr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${dr}ms, refresh threshold is ${Bl} ticks`),a<=Bl&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof qd)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!St()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,o){const a=[`provider=${encodeURIComponent(s)}`];if(o?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[d,f]=await lr(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});a.push(p.toString())}if(o?.queryParams){const d=new URLSearchParams(o.queryParams);a.push(d.toString())}return o?.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${a.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var o;const{data:a,error:d}=s;return d?{data:null,error:d}:await ie(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _enroll(r){try{return await this._useSession(async s=>{var o,a;const{data:d,error:f}=s;if(f)return{data:null,error:f};const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:g,error:v}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=d?.session)===null||o===void 0?void 0:o.access_token});return v?{data:null,error:v}:(r.factorType==="totp"&&(!((a=g?.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:a,error:d}=s;if(d)return{data:null,error:d};const{data:f,error:p}=await ie(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(s){if(Y(s))return{data:null,error:s};throw s}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:a,error:d}=s;return d?{data:null,error:d}:await ie(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(Y(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(r){const{data:s,error:o}=await this._challenge({factorId:r.factorId});return o?{data:null,error:o}:await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const o=r?.factors||[],a=o.filter(f=>f.factor_type==="totp"&&f.status==="verified"),d=o.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:o,totp:a,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var s,o;const{data:{session:a},error:d}=r;if(d)return{data:null,error:d};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Rl(a.access_token);let p=null;f.aal&&(p=f.aal);let g=p;((o=(s=a.user.factors)===null||s===void 0?void 0:s.filter(x=>x.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const y=f.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(r,s={keys:[]}){let o=s.keys.find(p=>p.kid===r);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(p=>p.kid===r),o&&this.jwks_cached_at+mg>a)return o;const{data:d,error:f}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=a,o=d.keys.find(p=>p.kid===r),!o)?null:o}async getClaims(r,s={}){try{let o=r;if(!o){const{data:T,error:$}=await this.getSession();if($||!T.session)return{data:null,error:$};o=T.session.access_token}const{header:a,payload:d,signature:f,raw:{header:p,payload:g}}=Rl(o);s?.allowExpired||zg(d.exp);const v=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!v){const{error:T}=await this.getUser(o);if(T)throw T;return{data:{claims:d,header:a,signature:f},error:null}}const y=Fg(a.alg),x=await crypto.subtle.importKey("jwk",v,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,f,Cg(`${p}.${g}`)))throw new Vl("Invalid JWT signature");return{data:{claims:d,header:a,signature:f},error:null}}catch(o){if(Y(o))return{data:null,error:o};throw o}}}ls.nextInstanceID=0;const r0=ls;class s0 extends r0{constructor(r){super(r)}}var i0=function(u,r,s,o){function a(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function p(y){try{v(o.next(y))}catch(x){f(x)}}function g(y){try{v(o.throw(y))}catch(x){f(x)}}function v(y){y.done?d(y.value):a(y.value).then(p,g)}v((o=o.apply(u,r||[])).next())})};class o0{constructor(r,s,o){var a,d,f;if(this.supabaseUrl=r,this.supabaseKey=s,!r)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const p=cg(r),g=new URL(p);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const v=`sb-${g.hostname.split(".")[0]}-auth-token`,y={db:ng,realtime:sg,auth:Object.assign(Object.assign({},rg),{storageKey:v}),global:tg},x=dg(o??{},y);this.storageKey=(a=x.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(d=x.global.headers)!==null&&d!==void 0?d:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(b,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=x.auth)!==null&&f!==void 0?f:{},this.headers,x.global.fetch),this.fetch=ag(s,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new Sp(new URL("rest/v1",g).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new Xp(this.storageUrl.href,this.headers,this.fetch,o?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new cp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,s={},o={}){return this.rest.rpc(r,s,o)}channel(r,s={config:{}}){return this.realtime.channel(r,s)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,s;return i0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:s,detectSessionInUrl:o,storage:a,storageKey:d,flowType:f,lock:p,debug:g},v,y){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new s0({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),v),storageKey:d,autoRefreshToken:r,persistSession:s,detectSessionInUrl:o,storage:a,flowType:f,lock:p,debug:g,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new Mp(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,o)=>{this._handleTokenChanged(s,"CLIENT",o?.access_token)})}_handleTokenChanged(r,s,o){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:r==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const l0=(u,r,s)=>new o0(u,r,s);function a0(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const r=u.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}a0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const u0="https://wgtfckcauuwopbjvgnro.supabase.co",c0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndndGZja2NhdXV3b3BianZnbnJvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU0OTcxNTMsImV4cCI6MjA3MTA3MzE1M30.v3-IeOfahe5mFrGdRdidtIyxGoGKumFSHWsATn9IOGs",Ft=l0(u0,c0),d0=async u=>{const{data:r,error:s}=await Ft.functions.invoke("get-recommendations",{body:u});if(s)throw console.error("Error invoking Supabase function:",s),new Error(s.message);if(!r)throw new Error("No data returned from the recommendation service.");return r},f0=async(u,r)=>{const{data:s,error:o}=await Ft.auth.signInWithPassword({email:u,password:r});if(o)throw new Error(o.message);if(!s.user)throw new Error("Login failed: No user data returned.");return s.user},h0=async(u,r)=>{const{data:s,error:o}=await Ft.auth.signUp({email:u,password:r});if(o)throw new Error(o.message);if(!s.user)throw new Error("Registration failed: No user data returned.");return s.user},p0=async u=>{const{error:r}=await Ft.auth.resetPasswordForEmail(u,{redirectTo:window.location.origin});if(r)throw new Error(r.message)},g0=async u=>{const{data:r,error:s}=await Ft.auth.updateUser({password:u});if(s)throw new Error(s.message);if(!r.user)throw new Error("Password update failed: No user data returned.");return r.user},m0=async()=>{const{error:u}=await Ft.auth.signOut();if(u)throw console.error("Error logging out:",u.message),new Error(u.message)},v0=async u=>{const{data:r,error:s}=await Ft.functions.invoke("save-recommendations",{body:u});if(s)throw console.error("Error saving recommendations:",s),new Error(s.message);return r},y0=async()=>{const{data:u,error:r}=await Ft.functions.invoke("get-saved-recommendations");if(r)throw console.error("Error fetching saved recommendations:",r),new Error(r.message);return u||[]},w0=["Action","Adventure","Comedy","Drama","Fantasy","Sci-Fi","Slice of Life","Romance","Thriller","Horror","Mecha","Isekai","Psychological","Sports","Mystery","Supernatural","Magic","Music","Historical","Seinen","Shoujo","Shounen","Gourmet","Military"],_0=({genres:u,selectedGenres:r,onGenreToggle:s})=>k.jsx("div",{className:"flex flex-wrap gap-3",children:u.map(o=>{const a=r.includes(o);return k.jsx("button",{type:"button",onClick:()=>s(o),className:`px-4 py-2 rounded-full font-medium text-sm transition-all duration-200 ease-in-out border
              ${a?"bg-white text-black border-white":"bg-transparent text-slate-200 border-white/30 hover:bg-white/10 hover:border-white/50"}`,children:o},o)})}),k0=({className:u="w-6 h-6"})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:u,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})}),S0=({className:u="w-6 h-6"})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:u,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9A2.25 2.25 0 0 0 4.5 18.75Z"})}),x0=({className:u="w-6 h-6"})=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:u,children:[k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"})]}),E0=({className:u="w-6 h-6"})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:u,children:k.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"})}),Kd=({className:u="w-6 h-6"})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:u,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.5 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})}),j0=({className:u="w-6 h-6"})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:u,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),C0=({className:u="w-6 h-6"})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:u,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})}),b0=({className:u="w-6 h-6"})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:u,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607ZM10.5 7.5v6m3-3h-6"})}),P0=({className:u="w-6 h-6"})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:u,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),T0=({className:u="w-6 h-6"})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:u,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.048 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0-2.433 2.471A8.356 8.356 0 0 1 12 5.25a8.356 8.356 0 0 1 3.361 1.047 8.287 8.287 0 0 0 3.037-1.087A8.252 8.252 0 0 1 15.362 5.214Z"})}),O0=({className:u="w-6 h-6"})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:u,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.627 48.627 0 0 1 12 20.904a48.627 48.627 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.57 50.57 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"})}),N0=({className:u="w-6 h-6"})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:u,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"})}),Gd=({className:u="w-6 h-6"})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:u,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),R0=({className:u="w-6 h-6"})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:u,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),L0=({className:u="w-6 h-6"})=>k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:u,children:[k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m12 7.5v-1.5a6 6 0 00-6-6v-1.5a6 6 0 00-6 6v1.5m6 7.5a6 6 0 006-6"}),k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75a3 3 0 003-3v-3a3 3 0 00-6 0v3a3 3 0 003 3z"})]}),A0=({className:u="w-6 h-6"})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:u,children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.28m5.94 2.28L19.5 21M12 2.25a8.964 8.964 0 0 1 4.252 1.076M12 2.25a8.964 8.964 0 0 0-4.252 1.076"})}),Qd=({anime:u,onFindSimilar:r})=>{const[s,o]=de.useState(!1),a=120,d=u.synopsis.length>a,f=d&&!s?`${u.synopsis.substring(0,a)}...`:u.synopsis;return k.jsxs("div",{className:"bg-black/50 backdrop-blur-2xl border border-white/10 rounded-3xl shadow-lg p-6 flex flex-col h-full transition-all duration-300 hover:border-purple-400/50 hover:shadow-purple-500/20 hover:-translate-y-1 relative overflow-hidden group",children:[k.jsx("div",{className:"absolute -top-16 -right-16 w-32 h-32 bg-purple-500/20 rounded-full blur-2xl group-hover:bg-purple-500/30 transition-all duration-300"}),k.jsxs("div",{className:"flex justify-between items-start gap-4 mb-2",children:[k.jsx("h3",{className:"text-2xl font-bold text-white",children:u.title}),u.rating&&k.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1 bg-white/10 text-amber-300 font-bold text-sm px-2.5 py-1 rounded-full border border-white/20",children:[k.jsx(E0,{className:"w-4 h-4 text-amber-400"}),k.jsx("span",{children:u.rating.toFixed(1)})]})]}),k.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:u.genres.map(p=>k.jsxs("span",{className:"bg-white/10 text-purple-300 text-xs font-semibold px-2.5 py-1 rounded-full",children:[k.jsx(x0,{className:"w-3 h-3 inline mr-1"})," ",p]},p))}),k.jsxs("div",{className:"space-y-4 flex-grow mb-4",children:[k.jsxs("div",{children:[k.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:f}),d&&k.jsx("button",{onClick:()=>o(!s),className:"text-purple-400 hover:text-purple-300 text-sm font-semibold mt-1","aria-expanded":s,children:s?"Read Less":"Read More"})]}),k.jsx("div",{children:k.jsx("p",{className:"text-slate-300 text-sm leading-relaxed italic border-l-2 border-purple-500 pl-3",children:u.reason})})]}),r&&k.jsx("div",{className:"mt-auto pt-4 border-t border-white/10",children:k.jsxs("button",{onClick:()=>r(u.title),className:"w-full flex items-center justify-center gap-2 text-sm font-medium bg-black/40 hover:bg-black/60 border border-white/20 text-white px-4 py-3 rounded-xl transition-all","aria-label":`Find anime similar to ${u.title}`,children:[k.jsx(b0,{className:"w-4 h-4"})," Find Similar"]})})]})},I0=()=>k.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 py-8",children:[k.jsxs("svg",{className:"animate-spin h-10 w-10 text-purple-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[k.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),k.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),k.jsx("p",{className:"text-purple-300 text-lg",children:"AI is conjuring your recommendations..."})]}),$0=({savedResults:u,onFindSimilar:r})=>k.jsxs("section",{className:"mt-20",children:[k.jsxs("h2",{className:"text-3xl font-black text-center mb-8 text-white flex items-center justify-center gap-3",children:[k.jsx(Kd,{className:"w-8 h-8 text-purple-400"}),"Saved Recommendations"]}),k.jsx("div",{className:"space-y-12",children:u.map((s,o)=>k.jsxs("div",{className:"p-1 md:p-2 bg-black/30 border border-white/10 rounded-3xl backdrop-blur-xl",children:[k.jsx("div",{className:"p-4",children:k.jsxs("h3",{className:"text-xl font-semibold text-slate-300 mb-4 border-b border-white/10 pb-2",children:["Saved Set ",u.length-o]})}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-4 pt-0",children:s.map((a,d)=>k.jsx(Qd,{anime:a,onFindSimilar:r},`${a.title}-${d}`))})]},o))})]}),U0=[{id:"otaku",name:"Enthusiastic Otaku",icon:T0,description:"Hyper, excited, and loves sharing popular hits."},{id:"critic",name:"Seasoned Critic",icon:O0,description:"Formal and analytical, focusing on storytelling."},{id:"veteran",name:"Chill Veteran",icon:N0,description:"Laid-back, suggesting shows with good vibes."}],D0=({selectedPersona:u,onPersonaChange:r})=>k.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:U0.map(s=>{const o=u===s.id;return k.jsxs("button",{type:"button",onClick:()=>r(s.id),className:`p-4 rounded-xl border-2 text-left transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black
              ${o?"bg-purple-500/40 border-purple-400 shadow-lg shadow-purple-500/20":"bg-black/20 border-white/10 hover:border-purple-500/50 hover:bg-black/30"}`,"aria-pressed":o,children:[k.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[k.jsx(s.icon,{className:`w-6 h-6 ${o?"text-purple-300":"text-slate-400"}`}),k.jsx("h4",{className:`font-bold ${o?"text-white":"text-slate-300"}`,children:s.name})]}),k.jsx("p",{className:`text-sm ${o?"text-purple-200":"text-slate-400"}`,children:s.description})]},s.id)})}),M0=({onClose:u,onLoginSuccess:r})=>{const[s,o]=de.useState("login"),[a,d]=de.useState(""),[f,p]=de.useState(""),[g,v]=de.useState(null),[y,x]=de.useState(!1),[b,T]=de.useState(null),$=async J=>{J.preventDefault(),x(!0),v(null),T(null);try{s==="login"?(await f0(a,f),r()):s==="register"?(await h0(a,f),T("Registration successful! Please check your email to verify your account.")):(await p0(a),T(`If an account exists for ${a}, a password reset link has been sent.`))}catch(D){v(D.message)}finally{x(!1)}},z=J=>{o(J),v(null),T(null),p("")},A=()=>s==="register"?"Create Account":s==="reset"?"Reset Password":"Welcome Back",X=()=>s==="register"?"Sign up to get started.":s==="reset"?"Enter your email to receive a password reset link.":"Log in to save your recommendations.";return k.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-md animate-fade-in","aria-modal":"true",role:"dialog",children:k.jsxs("div",{className:"bg-black/50 backdrop-blur-2xl border border-white/20 rounded-3xl shadow-2xl shadow-purple-900/40 w-full max-w-md m-4 relative",children:[k.jsx("button",{onClick:u,className:"absolute top-4 right-4 text-slate-400 hover:text-white transition-colors","aria-label":"Close dialog",children:k.jsx(Gd,{className:"w-6 h-6"})}),k.jsxs("div",{className:"p-8",children:[k.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-2",children:A()}),k.jsx("p",{className:"text-center text-slate-400 mb-6",children:X()}),k.jsxs("form",{onSubmit:$,children:[g&&k.jsx("p",{className:"bg-red-900/50 text-red-300 text-sm p-3 rounded-lg mb-4",children:g}),b&&k.jsx("p",{className:"bg-green-900/50 text-green-300 text-sm p-3 rounded-lg mb-4",children:b}),k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-300 mb-1",children:"Email"}),k.jsx("input",{type:"email",id:"email",value:a,onChange:J=>d(J.target.value),required:!0,className:"w-full p-3 bg-black/30 text-white border border-white/20 rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition duration-200"})]}),s!=="reset"&&k.jsxs("div",{className:"mb-6",children:[k.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-300 mb-1",children:"Password"}),k.jsx("input",{type:"password",id:"password",value:f,onChange:J=>p(J.target.value),required:!0,minLength:6,className:"w-full p-3 bg-black/30 text-white border border-white/20 rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition duration-200"})]}),s==="login"&&k.jsx("div",{className:"text-right mb-4 -mt-2",children:k.jsx("button",{type:"button",onClick:()=>z("reset"),className:"text-sm font-medium text-purple-400 hover:text-purple-300",children:"Forgot Password?"})}),k.jsx("button",{type:"submit",disabled:y||!!b,className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-500 hover:to-indigo-500 disabled:from-purple-800/50 disabled:to-indigo-800/50 text-white font-bold py-3 rounded-xl transition-all shadow-md shadow-purple-600/30",children:y?"Loading...":s==="login"?"Log In":s==="register"?"Sign Up":"Send Reset Link"})]}),s==="reset"?k.jsxs("p",{className:"text-center text-sm text-slate-400 mt-6",children:["Remember your password?",k.jsx("button",{onClick:()=>z("login"),className:"font-semibold text-purple-400 hover:text-purple-300 ml-1",children:"Back to Login"})]}):k.jsxs("p",{className:"text-center text-sm text-slate-400 mt-6",children:[s==="login"?"Don't have an account?":"Already have an account?",k.jsx("button",{onClick:()=>z(s==="login"?"register":"login"),className:"font-semibold text-purple-400 hover:text-purple-300 ml-1",children:s==="login"?"Sign Up":"Log In"})]})]})]})})},z0=({onClose:u})=>{const[r,s]=de.useState(""),[o,a]=de.useState(null),[d,f]=de.useState(!1),[p,g]=de.useState(null),v=async y=>{if(y.preventDefault(),r.length<6){a("Password should be at least 6 characters.");return}f(!0),a(null),g(null);try{await g0(r),g("Your password has been updated successfully! You can now close this window."),setTimeout(()=>{u()},3e3)}catch(x){a(x.message)}finally{f(!1)}};return k.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-md animate-fade-in","aria-modal":"true",role:"dialog",children:k.jsxs("div",{className:"bg-black/50 backdrop-blur-2xl border border-white/20 rounded-3xl shadow-2xl shadow-purple-900/40 w-full max-w-md m-4 relative",children:[k.jsx("button",{onClick:u,className:"absolute top-4 right-4 text-slate-400 hover:text-white transition-colors","aria-label":"Close dialog",children:k.jsx(Gd,{className:"w-6 h-6"})}),k.jsxs("div",{className:"p-8",children:[k.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-6",children:"Update Your Password"}),k.jsxs("form",{onSubmit:v,children:[o&&k.jsx("p",{className:"bg-red-900/50 text-red-300 text-sm p-3 rounded-lg mb-4",children:o}),p&&k.jsx("p",{className:"bg-green-900/50 text-green-300 text-sm p-3 rounded-lg mb-4",children:p}),k.jsxs("div",{className:"mb-6",children:[k.jsx("label",{htmlFor:"new-password",className:"block text-sm font-medium text-slate-300 mb-1",children:"New Password"}),k.jsx("input",{type:"password",id:"new-password",value:r,onChange:y=>s(y.target.value),required:!0,minLength:6,className:"w-full p-3 bg-black/30 text-white border border-white/20 rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition duration-200",placeholder:"Enter your new password",disabled:!!p})]}),k.jsx("button",{type:"submit",disabled:d||!!p,className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-500 hover:to-indigo-500 disabled:from-purple-800/50 disabled:to-indigo-800/50 disabled:cursor-not-allowed text-white font-bold py-3 rounded-xl transition-all shadow-md shadow-purple-600/30",children:d?"Updating...":"Update Password"})]})]})]})})},F0=[{id:"any",name:"Any Format",icon:S0},{id:"subbed",name:"Subbed",icon:R0},{id:"dubbed",name:"Dubbed",icon:L0}],B0=({selectedPreference:u,onPreferenceChange:r})=>k.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:F0.map(s=>{const o=u===s.id;return k.jsx("button",{type:"button",onClick:()=>r(s.id),className:`p-3 rounded-xl border-2 text-left transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black
              ${o?"bg-purple-500/40 border-purple-400 shadow-lg shadow-purple-500/20":"bg-black/20 border-white/10 hover:border-purple-500/50 hover:bg-black/30"}`,"aria-pressed":o,children:k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx(s.icon,{className:`w-5 h-5 ${o?"text-purple-300":"text-slate-400"}`}),k.jsx("h4",{className:`font-bold text-sm ${o?"text-white":"text-slate-300"}`,children:s.name})]})},s.id)})}),W0=()=>{const[u,r]=de.useState([]),[s,o]=de.useState(""),[a,d]=de.useState([]),[f,p]=de.useState(!1),[g,v]=de.useState(null),[y,x]=de.useState(!0),[b,T]=de.useState("otaku"),[$,z]=de.useState("any"),[A,X]=de.useState(!1),[J,D]=de.useState(null),[G,le]=de.useState(!1),[Z,ne]=de.useState(!1),[Me,Ze]=de.useState([]);de.useEffect(()=>{const{data:{subscription:ee}}=Ft.auth.onAuthStateChange((R,V)=>{D(V?.user??null),R==="PASSWORD_RECOVERY"&&ne(!0)});return()=>{ee?.unsubscribe()}},[]),de.useEffect(()=>{(async()=>{if(J)try{const R=await y0();Ze(R)}catch(R){console.error("Failed to fetch saved recommendations:",R)}else Ze([])})()},[J]);const pt=async()=>{await m0()},Ot=async()=>{if(a.length>0&&J){if(Me.some(R=>JSON.stringify(R)===JSON.stringify(a)))return;try{Ze(R=>[a,...R]),await v0(a)}catch(R){Ze(V=>V.filter(M=>JSON.stringify(M)!==JSON.stringify(a))),console.error("Failed to save recommendations:",R)}}},ot=ee=>{r(R=>R.includes(ee)?R.filter(V=>V!==ee):[...R,ee])},Ce=de.useCallback(async ee=>{x(!1),p(!0),v(null),d([]),document.getElementById("results-section")?.scrollIntoView({behavior:"smooth",block:"start"});try{const R=await d0({...ee});R.sort((V,M)=>M.rating-V.rating),d(R)}catch(R){const V=R?.message||"An unknown error occurred.";v(`Failed to get recommendations. ${V}`),console.error(R)}},[]),et=de.useCallback(async ee=>{if(ee.preventDefault(),u.length===0&&!s){v("Please select at least one genre or describe what you want to watch."),y||x(!0);return}Ce({genres:u,prompt:s,persona:b,formatPreference:$,prioritizePopular:A})},[u,s,Ce,y,b,$,A]),lt=de.useCallback(async()=>{r([]),o(""),Ce({surpriseMe:!0,persona:b,formatPreference:$})},[Ce,b,$]),$e=de.useCallback(async ee=>{r([]),o(""),Ce({findSimilarTo:ee,persona:b,formatPreference:$,prioritizePopular:A})},[Ce,b,$,A]);return k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"min-h-screen text-slate-200 font-sans relative overflow-x-hidden isolate",children:[k.jsx("div",{className:"absolute inset-0 -z-20 h-full w-full bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/bg.jpg')"}}),k.jsx("div",{className:"absolute inset-0 -z-10 bg-black/50 backdrop-blur-sm"}),k.jsx("nav",{className:"sticky top-0 z-20 bg-transparent",children:k.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[k.jsxs("div",{className:"text-xl font-bold text-white",children:["Anime Osuume ",k.jsx("span",{className:"text-purple-400",children:"AI"})]}),J?k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsxs("span",{className:"text-sm text-slate-300 hidden sm:block",children:["Welcome, ",J.email,"!"]}),k.jsxs("button",{onClick:pt,className:"flex items-center gap-2 text-sm font-medium text-slate-300 hover:text-white bg-black/30 hover:bg-red-600/50 border border-white/20 px-4 py-2 rounded-full transition-all",children:[k.jsx(C0,{className:"w-5 h-5"})," Logout"]})]}):k.jsxs("button",{onClick:()=>le(!0),className:"flex items-center gap-2 text-sm font-medium text-slate-300 hover:text-white bg-black/30 hover:bg-purple-600/50 border border-white/20 px-4 py-2 rounded-full transition-all",children:[k.jsx(j0,{className:"w-5 h-5"})," Login / Sign Up"]})]})}),k.jsxs("main",{className:"container mx-auto px-4 py-8 md:py-12",children:[k.jsx("header",{className:"text-center mb-10",children:k.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mt-2",children:"Get personalized anime recommendations"})}),k.jsxs("div",{className:"max-w-4xl mx-auto bg-gradient-to-br from-[rgba(128,0,128,0.5)] to-[rgba(75,0,130,0.5)] rounded-3xl shadow-2xl shadow-purple-900/40 border border-white/20 backdrop-blur-xl overflow-hidden transition-all duration-500",children:[k.jsxs("button",{onClick:()=>x(!y),className:"w-full flex justify-between items-center p-6 text-left","aria-expanded":y,"aria-controls":"search-panel",children:[k.jsx("h2",{className:"text-xl font-bold text-white",children:"Find Your Next Obsession"}),k.jsx(P0,{className:`w-6 h-6 text-slate-300 transition-transform duration-300 ${y?"rotate-180":""}`})]}),k.jsx("div",{id:"search-panel",className:`transition-all duration-500 ease-in-out ${y?"max-h-[1500px] opacity-100":"max-h-0 opacity-0"}`,children:k.jsx("div",{className:"px-6 pb-8 border-t border-white/10",children:k.jsxs("form",{onSubmit:et,children:[k.jsxs("div",{className:"mt-6 mb-6",children:[k.jsx("label",{className:"block text-lg font-semibold mb-3 text-white",children:"1. Select Genres"}),k.jsx(_0,{genres:w0,selectedGenres:u,onGenreToggle:ot})]}),k.jsxs("div",{className:"mb-6",children:[k.jsx("label",{className:"block text-lg font-semibold mb-3 text-white",children:"2. Set Preferences"}),k.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[k.jsx("div",{className:"flex-grow",children:k.jsx(B0,{selectedPreference:$,onPreferenceChange:z})}),k.jsxs("button",{type:"button",onClick:()=>X(!A),className:`flex items-center justify-center gap-2 px-4 py-2 rounded-xl border-2 text-left transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black w-full sm:w-auto
                          ${A?"bg-purple-500/40 border-purple-400 shadow-lg shadow-purple-500/20":"bg-black/20 border-white/10 hover:border-purple-500/50 hover:bg-black/30"}`,children:[k.jsx(A0,{className:`w-5 h-5 ${A?"text-purple-300":"text-slate-400"}`}),k.jsx("span",{className:`font-medium text-sm ${A?"text-white":"text-slate-300"}`,children:"Prioritize Popular"})]})]})]}),k.jsxs("div",{className:"mb-6",children:[k.jsx("label",{htmlFor:"user-prompt",className:"block text-lg font-semibold mb-3 text-white",children:"3. Describe What You're Looking For"}),k.jsx("textarea",{id:"user-prompt",value:s,onChange:ee=>o(ee.target.value),placeholder:"e.g., 'a mind-bending psychological thriller'",className:"w-full h-24 p-4 bg-black/30 border border-white/20 rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition duration-200 placeholder-slate-400 text-slate-100"})]}),k.jsxs("div",{className:"mb-8",children:[k.jsx("label",{className:"block text-lg font-semibold mb-4 text-white",children:"4. Choose AI Personality"}),k.jsx(D0,{selectedPersona:b,onPersonaChange:T})]}),k.jsxs("div",{className:"flex flex-col gap-4",children:[k.jsxs("button",{type:"submit",disabled:f,className:"w-full flex items-center justify-center gap-2 bg-black/40 hover:bg-black/60 border border-white/20 disabled:bg-black/20 disabled:cursor-not-allowed text-white font-bold py-4 px-4 rounded-xl transition-all duration-300",children:[f?"Thinking...":"Get Recommendations",!f&&k.jsx(k0,{className:"w-5 h-5"})]}),k.jsx("button",{type:"button",onClick:lt,disabled:f,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-500 hover:to-indigo-500 disabled:from-purple-800/50 disabled:to-indigo-800/50 disabled:cursor-not-allowed text-white font-bold py-4 px-6 rounded-xl transition-all duration-300 shadow-lg shadow-purple-600/40",children:"Surprise Me "})]})]})})})]}),k.jsxs("div",{id:"results-section",className:"mt-12 min-h-[100px]",children:[f&&k.jsx(I0,{}),g&&k.jsx("p",{className:"text-center text-red-400 bg-red-900/50 p-4 rounded-lg",children:g}),!f&&a.length>0&&k.jsxs("div",{className:"animate-fade-in",children:[J&&k.jsx("div",{className:"text-center mb-6",children:k.jsxs("button",{onClick:Ot,className:"flex items-center justify-center gap-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-500 hover:to-indigo-500 text-white font-bold py-2 px-6 rounded-full transition-all duration-300 shadow-lg shadow-purple-600/30",children:[k.jsx(Kd,{className:"w-5 h-5"})," Save Results"]})}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((ee,R)=>k.jsx(Qd,{anime:ee,onFindSimilar:$e},`${ee.title}-${R}`))})]})]}),J&&Me.length>0&&k.jsx($0,{savedResults:Me,onFindSimilar:$e})]}),k.jsx("footer",{className:"text-center p-6 mt-12 text-slate-500",children:k.jsx("p",{children:"Powered by Gemini"})})]}),G&&k.jsx(M0,{onClose:()=>le(!1),onLoginSuccess:()=>le(!1)}),Z&&k.jsx(z0,{onClose:()=>ne(!1)})]})};sp.createRoot(document.getElementById("root")).render(k.jsx(Yh.StrictMode,{children:k.jsx(W0,{})}));
